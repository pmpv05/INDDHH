<%@page import="com.dogma.vo.*"%><%@page import="com.dogma.util.DogmaUtil"%><%@include file="../../../components/scripts/server/startInc.jsp"%><%@page import="desmoj.core.simulator.QueueBased"%><HTML><head><%@include file="../../../components/scripts/server/headInclude.jsp"%></head><body onload="init()"><jsp:useBean id="dBean" scope="session" class="com.dogma.bean.administration.SimScenarioBean"></jsp:useBean><%
SimScenarioVo sceVo = dBean.getScenarioVo();
String actualUser = dBean.getActualUser(request);
boolean saveChanges = (sceVo.getSimSceId()==null)?true:dBean.hasWritePermission(request, sceVo.getSimSceId(), actualUser);

boolean isEndByTime = sceVo==null || (sceVo!=null && (sceVo.getSimType() == SimScenarioVo.SIMULATION_END_NA || sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_TIME));
boolean isEndByDate = sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_DATE;
boolean isEndByAmountGlobal = sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL;
boolean isEndByAmountProcess = sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS;

%><TABLE class="pageTop"><COL class="col1"><COL class="col2"><TR><TD><%=LabelManager.getName(labelSet,"titScenarios")%></TD><TD></TD></TR></TABLE><div id="divContent"><form id="frmMain" name="frmMain" method="POST"><div type ="tabElement" id="samplesTab" ontabswitch="tabSwitch()" <%=(request.getParameter("defaultTab")!=null?(" defaultTab='"+request.getParameter("defaultTab").toString()+"'"):"" )%>><div type="tab" style="visibility:hidden" style="visibility:hidden;" tabTitle="<%=LabelManager.getToolTip(labelSet,"tabDatGen")%>" tabText="<%=LabelManager.getName(labelSet,"tabDatGen")%>"><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtDatScenario")%></DIV><table class="tblFormLayout"><COL class="col1"><COL class="col2"><COL class="col3"><COL class="col4"><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblNom")%>"><%=LabelManager.getNameWAccess(labelSet,"lblNom")%>:</td><td><input name="sceName" p_required="true" maxlength="50" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblNom")%>" type="text" <%if(sceVo!=null) {%>value="<%=dBean.fmtStr(sceVo.getSimSceName())%>"<%}%>></td><td></td><td></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblDes")%>"><%=LabelManager.getNameWAccess(labelSet,"lblDes")%>:</td><td colspan=3><input name="sceDesc" maxlength="255" size=80 accesskey="<%=LabelManager.getAccessKey(labelSet,"lblDes")%>" type="text" <%if(sceVo!=null) {%>value="<%=dBean.fmtStr(sceVo.getSimSceDesc())%>"<%}%>></td><td></td><td></td></tr><!-- CALENDARIOS --><%	Collection colCal = dBean.getCalendars();%><tr><td title="<%=LabelManager.getToolTip(labelSet,"titCal")%>"><%=LabelManager.getNameWAccess(labelSet,"titCal")%>:</td><td colspan=2><input type=hidden name="txtCal" value=""><select name="selCal" p_required="true" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblEntAso")%>"><option value="0"></option><%
		   					if (colCal != null && colCal.size()>0) {
			   					Iterator itCal = colCal.iterator();
			   					CalendarVo calVo = null;
		   						while (itCal.hasNext()) {
		   							calVo = (CalendarVo) itCal.next();%><option value="<%=calVo.getCalendarId()%>"<%
										if (sceVo.getCalId()!=null && (calVo.getCalendarId().intValue() == sceVo.getCalId().intValue())) {
											out.print ("selected");
										}%>
										><%=calVo.getCalendarName()%></option><%}
			   				}%></select>
		   				&nbsp;
		   				<button type="button" id="btnVerCal" onClick="btnViewCalendar()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnVer")%>" title="<%=LabelManager.getToolTip(labelSet,"btnVer")%>"><%=LabelManager.getNameWAccess(labelSet,"btnVer")%></button></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblSceIni")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSceIni")%>:</td><td><input type=text p_required="true" name="txtSceFchIni" p_calendar="true" class="txtDate" p_mask="<%=DogmaUtil.getHTMLDateMask(dBean.getEnvId(request))%>" size="10" maxlength="10" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceIni")%>" <%if(sceVo!=null){%>value="<%=dBean.fmtHTML(sceVo.getSimSceStartDate())%>"<%}%>><input type=text p_required="true" name="txtSceHorIni" maxlength=5 size=5 p_mask="<%=DogmaUtil.getHTMLTimeMask()%>" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceIni")%>" <%if(sceVo!=null && sceVo.getSimSceStartDate()!=null){%>value="<%=sceVo.getHourMinute(sceVo.getSimSceStartDate())%>"<%}%>></td><td></td><td></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblSceEnd")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSceEnd")%>:</td><td><input type="radio" name="endType" id="endType" onclick="changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_TIME%>);"  <%=(isEndByTime)?"checked":""%>><%=LabelManager.getName(labelSet,"lblSceDatHour")%></td><td align="left"><input type=text name="txtSceDatEnd" <%=(sceVo!=null && (sceVo.getSimType() != SimScenarioVo.SIMULATION_END_NA && sceVo.getSimType() != SimScenarioVo.SIMULATION_END_BY_TIME))?"disabled":""%> p_calendar="true" class="txtDate" p_mask="<%=DogmaUtil.getHTMLDateMask(dBean.getEnvId(request))%>" size="10" maxlength="10" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceEnd")%>" <%if(sceVo!=null && sceVo.getSimSceEndDate()!=null){%>value="<%=dBean.fmtHTML(sceVo.getSimSceEndDate())%>"<%}%>><input type=text name="txtSceHorEnd" <%=(sceVo!=null && (sceVo.getSimType() != SimScenarioVo.SIMULATION_END_NA && sceVo.getSimType() != SimScenarioVo.SIMULATION_END_BY_TIME))?"disabled":""%> maxlength=5 size=5 p_mask="<%=DogmaUtil.getHTMLTimeMask()%>" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceEnd")%>"  <%if(sceVo!=null && sceVo.getSimSceEndDate()!=null){%>value="<%=sceVo.getHourMinute(sceVo.getSimSceEndDate())%>"<%}%>></td><td></td><tr><td></td><td><input type="radio" name="endType" id="endType" onclick="changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_DATE%>);" value="" <%=(isEndByDate)?"checked":""%>><%=LabelManager.getName(labelSet,"lblSceCantDays")%></td><td align="left"><input type="text" name="sceEndDays" <%=(sceVo==null || sceVo.getSimType() != SimScenarioVo.SIMULATION_END_BY_DATE)?"disabled":""%> maxlength=7 size=8 p_numeric="true" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceCantDays")%>" <%if(sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_DATE && sceVo.getSimSceEndDays()!=null){%>value="<%=sceVo.getSimSceEndDays().intValue()%>"<%}%>/></td><td></td></tr><tr><td></td><td><input type="radio" name="endType" id="endType" onclick="changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL%>);" value="" <%=(isEndByAmountGlobal)?"checked":""%>><%=LabelManager.getName(labelSet,"lblSceCantTrans")%></td><td align="left"><input type="text" name="sceEndTrans" <%=(sceVo==null || sceVo.getSimType() != SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL)?"disabled":""%>  value="<%=(sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL)?sceVo.getSimSceEndInsts().intValue():""%>" maxlength=7 size=8 p_numeric="true"accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceCantTrans")%>"/></td><td></td></tr><tr><td></td><td><input type="radio" name="endType" id="endType" onclick="changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS%>);" <%=(isEndByAmountProcess)?"checked":""%>><%=LabelManager.getName(labelSet,"lblSceCantProTrans")%></td><td align="left"><input type="text" name="sceEndProTrans" <%=(sceVo==null || sceVo.getSimType() != SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS)?"disabled":""%> value="<%=(sceVo!=null && sceVo.getSimType() == SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS)?sceVo.getSimSceEndProInsts().intValue():""%>" maxlength=7 size=8 p_numeric="true" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSceCantProTrans")%>" /></td><td align="left"><%=LabelManager.getName(labelSet,"lblPro")%>:
						<select <%=(sceVo==null || sceVo.getSimSceId()==null || sceVo.getSimType()!=SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS)?"disabled":"" %> name="selEndProcess"><option value="0" <%=(sceVo==null || sceVo.getSimSceId()==null || sceVo.getSimType()!=SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS)?"selected":""%>></option><%	
					  		Collection colProc = sceVo.getProcesses();
					   		if (colProc != null) {
								Iterator itProc = colProc.iterator();
								SimSceProcessVo pVO1 = null;
								while (itProc.hasNext()) {
									pVO1 = (SimSceProcessVo) itProc.next();%><option value="<%=pVO1.getProId().intValue()%>" <%=((sceVo.getSimSceEndProId() != null) && (pVO1.getProId().intValue() == sceVo.getSimSceEndProId().intValue()))?"selected":""%>><%=(pVO1.getProDefinitionVo()!=null)?pVO1.getProDefinitionVo().getProName():""%></option><%}
							}%></select></td></tr><tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblUseHist")%>"><%=LabelManager.getNameWAccess(labelSet,"lblUseHist")%>:</td><td><table class="tblFormLayout"><tr><td><input type="checkbox" name="useHistChk" id="useHistChk" onClick="clickUseHist()" <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"checked":""%>/></td><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblSampFrecuency")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSampFrecuency") %>:</td></tr></table></td><td align="left"><input type="text" name="lblSampFrecuency" <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"":"disabled"%> value="<%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?sceVo.getSimSceHistFrec().intValue():""%>" size="9" maxlength="7" p_numeric="true" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblSampFrecuency")%>"/></td><td></td></tr><tr><td></td><td><table class="tblFormLayout"><tr><td></td><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblFchIni")%>"><%=LabelManager.getNameWAccess(labelSet,"lblFchIni") %>:</td></tr></table></td><td align="left"><input type=text name="txtHistFrecDatIni" p_calendar="true" <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"":"disabled"%> class="txtDate" p_mask="<%=DogmaUtil.getHTMLDateMask(dBean.getEnvId(request))%>" size="10" maxlength="10" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblFchIni")%>" <%if(sceVo!=null && sceVo.getSimSceHistIni()!=null){%>value="<%=dBean.fmtHTML(sceVo.getSimSceHistIni())%>"<%}%>/><input type=text name="txtHistFrecHorIni" maxlength=5 size=5 <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"":"disabled"%> p_mask="<%=DogmaUtil.getHTMLTimeMask()%>" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblHorIni")%>" <%if(sceVo!=null && sceVo.getSimSceHistIni()!=null){%>value="<%=sceVo.getHourMinute(sceVo.getSimSceHistIni())%>"<%}%> /></td><td></td></tr><tr><td></td><td><table class="tblFormLayout"><tr><td></td><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblFchFin")%>"><%=LabelManager.getNameWAccess(labelSet,"lblFchFin") %>:</td></tr></table></td><td align="left"><input type=text name="txtHistFrecDatEnd" p_calendar="true" <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"":"disabled"%> class="txtDate" p_mask="<%=DogmaUtil.getHTMLDateMask(dBean.getEnvId(request))%>" size="10" maxlength="10" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblFchFin")%>" <%if(sceVo!=null && sceVo.getSimSceHistEnd()!=null){%>value="<%=dBean.fmtHTML(sceVo.getSimSceHistEnd())%>"<%}%> /><input type=text name="txtHistFrecHorEnd" maxlength=5 size=5 <%=(sceVo!=null && sceVo.getSimSceHistFrec()!=null)?"":"disabled"%> p_mask="<%=DogmaUtil.getHTMLTimeMask()%>" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblFchFin")%>" <%if(sceVo!=null && sceVo.getSimSceHistEnd()!=null){%>value="<%=sceVo.getHourMinute(sceVo.getSimSceHistEnd())%>"<%}%> /></td><td></td></tr><tr><td><input name="endTypeSelected" id="endTypeSelected" type="hidden" value="<%=(sceVo==null)?SimScenarioVo.SIMULATION_END_BY_TIME:sceVo.getSimType()%>"></td><td><input type="hidden" name="hidUsrCanWrite" value="<%=saveChanges%>"></td><td></td><td></td></tr></table><br><!--    PROCESOS   --><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtProcess")%></DIV><div type="grid" id="gridProcesses" style="height:150px" onSelect="proSelected()"><table id="tblWidges" width="500px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="180px" style="min-width:180px;width:100%" title="<%=LabelManager.getToolTip(labelSet,"lblNom")%>"><%=LabelManager.getName(labelSet,"lblNom")%></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"titSceGenerator")%>"><%=LabelManager.getName(labelSet,"titSceGenerator")%></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"titSceDesign")%>"><%=LabelManager.getName(labelSet,"titSceDesign")%></th></tr></thead><tbody id="tblPerBody"><%	
					  		Collection col = sceVo.getProcesses();
					   		if (col != null) {
								Iterator it = col.iterator();
								int i = 0;
								SimSceProcessVo pVO = null;
								while (it.hasNext()) {
									pVO = (SimSceProcessVo) it.next();%><tr><td style="width:0px;display:none;"><input type="checkbox" name="chkProcSel"><input type="hidden" name="chkProc" value="<%=dBean.fmtInt(pVO.getProId())%>"><input type="hidden" name="chkProcFather" value="<%=pVO.getStrProFathers()%>"></td><td style="min-width:180px" proName="<%=(pVO.getProDefinitionVo()!=null)?pVO.getProDefinitionVo().getProName():""%>"><%=(pVO.getProDefinitionVo()!=null)?pVO.getProDefinitionVo().getProName():""%></td><td><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSceCliDefGen")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openGenModal(<%=dBean.fmtInt(pVO.getProId())%>,this)" style="cursor:pointer;cursor:hand"></span></td><td><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSceCliProMap")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openProMap(this)" style="cursor:pointer;cursor:hand"><input type="hidden" id="hidMapData" name="hidMapData" value=""></input></span></td></tr><%}
					   		}
						%></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><TD><button type="button" style="display:none;" onclick="upPro_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnUp")%>" title="<%=LabelManager.getToolTip(labelSet,"btnUp")%>"><%=LabelManager.getNameWAccess(labelSet,"btnUp")%></button><button type="button" style="display:none;" onclick="downPro_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDown")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDown")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDown")%></button></TD><td><button type="button" id="btnDelAll" onclick="btnDelAll_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDeleteAll")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDeleteAll")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDeleteAll")%></button><button type="button" id="btnAddProcess" onclick="btnAddProcess_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgr")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgr")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgr")%></button><button type="button" id="btnDelProcess" onclick="btnDelProcess_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><br><!--    GRUPOS   --><DIV class="subTit"><%=LabelManager.getName(labelSet,"titGru")%></DIV><div type="grid" id="gridPools" style="height:150px"><table id="tblPools" width="500px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="180px" style="min-width:180px;width:100%" title="<%=LabelManager.getToolTip(labelSet,"lblNom")%>"><%=LabelManager.getName(labelSet,"lblNom")%></th><th min_width="250px" style="width:250px" title="<%=LabelManager.getToolTip(labelSet,"sbtCantResources")%>"><%=LabelManager.getName(labelSet,"sbtCantResources")%></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"sbtQueueType")%>"><%=LabelManager.getName(labelSet,"sbtQueueType")%></th></tr></thead><tbody id="tblPerBody"><%	
					  		Collection colP = sceVo.getPools();
					   		if (colP != null) {
								Iterator itP = colP.iterator();
								PoolVo poolVo = null;
								SimScePoolVo simScePoolVo = null;
								while (itP.hasNext()) {
									simScePoolVo = (SimScePoolVo) itP.next();
									poolVo = simScePoolVo.getPoolVo();%><tr><td style="width:0px;display:none;"><input type="checkbox" name="chkPoolSel"><input type="hidden" name="chkPool" value="<%=dBean.fmtInt(poolVo.getPoolId())%>"><input type="hidden" name="chkProcs" value="<%=simScePoolVo.getStrProcess()%>"></td><td poolname="<%=poolVo.getPoolName()%>"><%=poolVo.getPoolName()%></td><td><select name="selCantResType" onChange="resTypeChanged(this)"><option value="<%=SimScePoolVo.CANT_RES_FIXED%>" <%=(simScePoolVo.getSspResCant().intValue()>=0)?"selected":""%>><%=LabelManager.getName(labelSet,"lblFij")%></option><option value="<%=SimScePoolVo.CANT_RES_UNLIMITED%>" <%=(simScePoolVo.getSspResCant().intValue()==SimScePoolVo.CANT_RES_UNLIMITED)?"selected":""%>><%=LabelManager.getName(labelSet,"lblSimUnlimited")%></option><option value="<%=SimScePoolVo.CANT_RES_MIN%>" <%=(simScePoolVo.getSspResCant().intValue()==SimScePoolVo.CANT_RES_MIN)?"selected":""%>><%=LabelManager.getName(labelSet,"lblMin")%></option><option value="<%=SimScePoolVo.CANT_RES_MAX%>" <%=(simScePoolVo.getSspResCant().intValue()==SimScePoolVo.CANT_RES_MAX)?"selected":""%>><%=LabelManager.getName(labelSet,"lblMax")%></option><option value="<%=SimScePoolVo.CANT_RES_AVG%>" <%=(simScePoolVo.getSspResCant().intValue()==SimScePoolVo.CANT_RES_AVG)?"selected":""%>><%=LabelManager.getName(labelSet,"txtAvg")%></option></select><input type="text" id="txtCantRes" name="txtCantRes" p_numeric="true" onChange="txtCantResChanged(this)" <%if(simScePoolVo.getSspResCant().intValue()>=0){%>value="<%=simScePoolVo.getSspResCant().intValue()%>"<%}else{%> disabled <%}%>></input><input type="hidden" id="hidTxtCantRes" name="hidTxtCantRes" <%if(simScePoolVo.getSspResCant().intValue()>=0){%>value="<%=simScePoolVo.getSspResCant().intValue()%>"<%}%>></input></td><td><select name="selQueueType"><option value="0" <%=(simScePoolVo.getSspResQueueType().intValue()==QueueBased.FIFO)?"selected":""%>><%=LabelManager.getName(labelSet,"lblQueFifo")%></option><option value="1" <%=(simScePoolVo.getSspResQueueType().intValue()==QueueBased.LIFO)?"selected":""%>><%=LabelManager.getName(labelSet,"lblQueLifo")%></option></select></td></tr><%}
					   		}
						%></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><TD><button type="button" style="display:none;" onclick="upGru_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnUp")%>" title="<%=LabelManager.getToolTip(labelSet,"btnUp")%>"><%=LabelManager.getNameWAccess(labelSet,"btnUp")%></button><button type="button" style="display:none;" onclick="downGru_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDown")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDown")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDown")%></button></TD><td><button type="button" style="display:none;" id="btnSeeAll" onclick="btnSeeAll_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnSeeAll")%>" title="<%=LabelManager.getToolTip(labelSet,"btnSeeAll")%>"><%=LabelManager.getNameWAccess(labelSet,"btnSeeAll")%></button></td></tr></table><br><br><br></div><!--      PERMISOS          --><div type="tab" style="visibility:hidden" style="visibility:hidden;" tabTitle="<%=LabelManager.getToolTip(labelSet,"tabSimPer")%>" tabText="<%=LabelManager.getName(labelSet,"tabSimPer")%>"><%@ include file="permissions.jsp" %></div></div></form></div><TABLE class="pageBottom"><COL class="col1"><COL class="col2"><TR><TD></TD><TD align="right"><button type="button" onclick="btnConf_click()" <%=(!saveChanges)?"disabled":"" %> accesskey="<%=LabelManager.getAccessKey(labelSet,"btnCon")%>" title="<%=LabelManager.getToolTip(labelSet,"btnCon")%>"><%=LabelManager.getNameWAccess(labelSet,"btnCon")%></button><button type="button" onclick="btnBack_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnVol")%>" title="<%=LabelManager.getToolTip(labelSet,"btnVol")%>"><%=LabelManager.getNameWAccess(labelSet,"btnVol")%></button><button type="button" onclick="btnExit_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnSal")%>" title="<%=LabelManager.getToolTip(labelSet,"btnSal")%>"><%=LabelManager.getNameWAccess(labelSet,"btnSal")%></button></TD></TR></TABLE></body></html><%@include file="../../../components/scripts/server/endInc.jsp"%><script language="javascript" defer="true" src='<%=Parameters.ROOT_PATH%>/programs/administration/scenarios/update.js'></script><script type="text/javascript">
var LBL_CLI_DEF_GEN = "<%=LabelManager.getName(labelSet,"lblSceCliDefGen")%>";
var LBL_CLI_PRO_MAP = "<%=LabelManager.getName(labelSet,"lblSceCliap")%>";
var MSG_SCE_MUS_HAV_ONE_PRO = "<%=LabelManager.getName(labelSet,"msgSceMusHavOnePro")%>";
var MSG_REQ = '<%=LabelManager.getName(labelSet,"msgReq")%>';
var LBL_SCE_END_DATE = "<%=LabelManager.getName(labelSet,"lblSceDatHour")%>";
var LBL_PROCESS = "<%=LabelManager.getName(labelSet,"lblPro")%>";
var SIMULATION_END_BY_TIME = "<%=SimScenarioVo.SIMULATION_END_BY_TIME%>";
var SIMULATION_END_BY_DATE = "<%=SimScenarioVo.SIMULATION_END_BY_DATE%>";
var SIMULATION_END_BY_AMOUNT_GLOBAL  = "<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL%>";
var SIMULATION_END_BY_AMOUNT_PROCESS  = "<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS%>";
var GEN_DISABLED = "<%=SimSceProcessVo.GEN_DISABLED%>";
var GEN_ON_DEMAND = "<%=SimSceProcessVo.GEN_ON_DEMAND%>";
var GEN_CANT_TRANS = "<%=SimSceProcessVo.GEN_CANT_TRANS%>";
var GEN_FRECUENCY = "<%=SimSceProcessVo.GEN_FRECUENCY%>";
var LBL_CALENDAR = "<%=LabelManager.getName(labelSet,"titCal")%>";
var LBL_FIFO = "<%=LabelManager.getName(labelSet,"lblQueFifo")%>";
var LBL_LIFO = "<%=LabelManager.getName(labelSet,"lblQueLifo")%>";
var FIFO_VALUE = "<%=QueueBased.FIFO%>";
var LIFO_VALUE = "<%=QueueBased.LIFO%>";
var MSG_CANT_RES_NEED = "<%=LabelManager.getName(labelSet,"msgCantResNeed")%>";
var MSG_DEL_ALL_SEL = "<%=LabelManager.getName(labelSet,"msgDeleteAllSel")%>";
var MSG_CANT_DEL_SUBPROC = "<%=LabelManager.getName(labelSet,"msgCantDelSceSubProc")%>";
var MSG_DELETE_ALL = "<%=LabelManager.getName(labelSet, "msgDeleteAll")%>";
var CANT_RES_FIXED = "<%=SimScePoolVo.CANT_RES_FIXED%>";
var CANT_RES_UNLIM = "<%=SimScePoolVo.CANT_RES_UNLIMITED%>";
var CANT_RES_MIN = "<%=SimScePoolVo.CANT_RES_MIN%>";
var CANT_RES_MAX = "<%=SimScePoolVo.CANT_RES_MAX%>";
var CANT_RES_AVG = "<%=SimScePoolVo.CANT_RES_AVG%>";
var LBL_FIXED = "<%=LabelManager.getName(labelSet,"lblFij")%>";
var LBL_UNLIM = "<%=LabelManager.getName(labelSet,"lblSimUnlimited")%>";
var LBL_MIN = "<%=LabelManager.getName(labelSet,"lblMin")%>";
var LBL_MAX = "<%=LabelManager.getName(labelSet,"lblMax")%>";
var LBL_AVG = "<%=LabelManager.getName(labelSet,"txtAvg")%>";
var LBL_SAMP_FREC = "<%=LabelManager.getName(labelSet,"lblSampFrecuency")%>";
var LBL_FCH_INI = "<%=LabelManager.getName(labelSet,"lblFchIni") %>";
var LBL_FCH_END = "<%=LabelManager.getName(labelSet,"lblFchFin") %>";
var MSG_MUST_SEL_CANT_RES_FIXED = "<%=LabelManager.getName(labelSet,"msgMustSelCantResFixed")%>";
var MSG_HIST_WRNG_DATES = "<%=LabelManager.getName(labelSet,"msgSceHistWrngDates")%>";
var MSG_WRNG_DATES = "<%=LabelManager.getName(labelSet,"msgSceWrngDates")%>";
var MSG_PERMISSIONS_ERROR = "<%=LabelManager.getName(labelSet,"msgPermError")%>";

function init(){
	<% if (isEndByTime) {%>changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_TIME%>);<% } %><% if (isEndByDate) {%>changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_DATE%>);<% } %><% if (isEndByAmountGlobal) {%>changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_GLOBAL%>);<% } %><% if (isEndByAmountProcess) {%>changeEndType(<%=SimScenarioVo.SIMULATION_END_BY_AMOUNT_PROCESS%>);<% } %>
}
</script>