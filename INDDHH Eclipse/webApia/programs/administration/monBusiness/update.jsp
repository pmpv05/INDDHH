<%@page import="com.dogma.vo.*"%><%@include file="../../../components/scripts/server/startInc.jsp" %><HTML><head><%@include file="../../../components/scripts/server/headInclude.jsp" %></head><body><jsp:useBean id="dBean" scope="session" class="com.dogma.bean.administration.MonitorBusinessBean"></jsp:useBean><%
MonBusinessVo monBusVo = dBean.getMonBusinessVo();
String actualUser = dBean.getActualUser(request);
boolean saveChanges = (monBusVo.getMonBusId()==null)?true:dBean.hasWritePermission(request, monBusVo.getMonBusId(), monBusVo.getPrjId(), actualUser);
%><TABLE class="pageTop"><COL class="col1"><COL class="col2"><TR><TD><%=LabelManager.getName(labelSet,"titMonBusiness")%></TD><TD></TD></TR></TABLE><div id="divContent"><form id="frmMain" name="frmMain" method="POST"><div type="tabElement" id="samplesTab" ontabswitched="tabSwitch()"><div type="tab" style="visibility:hidden" tabTitle="<%=LabelManager.getToolTip(labelSet,"tabDatGen")%>" tabText="<%=LabelManager.getName(labelSet,"tabDatGen")%>"><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtDatMonBusiness")%></DIV><table class="tblFormLayout"><COL class="col1"><COL class="col2"><COL class="col3"><COL class="col4"><tr><!-- PROYECTOS --><%Collection colProj = dBean.getProjects(request);
	   					boolean hasProject = (monBusVo.getPrjId() != null && monBusVo.getPrjId().intValue() != 0);%><td title="<%=LabelManager.getToolTip(labelSet,"titPrj")%>"><%=LabelManager.getNameWAccess(labelSet,"titPrj")%>:</td><td colspan=3><select name="selPrj" onchange="cmbProySel()" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblPrj")%>"><%if (colProj != null && colProj.size()>0) {
				   					Iterator itPrj = colProj.iterator();
				   					ProjectVo prjVo = null;%><option value=""></option><%while (itPrj.hasNext()) {
			   							prjVo = (ProjectVo) itPrj.next();%><option value="<%=prjVo.getPrjId()%>"
			   							<%if (hasProject) {
											if (prjVo.getPrjId().equals(monBusVo.getPrjId())) {
												out.print ("selected");
											}%>
											><%=prjVo.getPrjName()%></option><%} else {%>
											><%=prjVo.getPrjName()%></option><%}
				   					}%><%}%></select></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblNom")%>"><%=LabelManager.getNameWAccess(labelSet,"lblNom")%>:</td><td><input p_required=true name="txtName" maxlength="50" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblNom")%>" type="text" <%if(monBusVo!=null) {%>value="<%=dBean.fmtStr(monBusVo.getMonBusName())%>"<%}%>></td><td title="<%=LabelManager.getToolTip(labelSet,"lblTit")%>"><%=LabelManager.getNameWAccess(labelSet,"lblTit")%>:</td><td><input p_required=true name="txtTitle" maxlength="50" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblTit")%>" type="text" <%if(monBusVo!=null) {%>value="<%=dBean.fmtStr(monBusVo.getMonBusTitle())%>"<%}%>></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblDes")%>"><%=LabelManager.getNameWAccess(labelSet,"lblDes")%>:</td><td colspan=3><input name="txtDesc" maxlength="255" size="82" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblDes")%>" type="text" <%if(monBusVo!=null) {%>value="<%=dBean.fmtStr(monBusVo.getMonBusDescription())%>"<%}%>></td></tr><tr><td>&nbsp;</td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblSecEle")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSecEle")%>:</td><td colspan=3><select p_required=true name="selAllowEle"><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_ELEMENTS)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecAllowAll")%></option><option value="false" <% if (!monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_ELEMENTS)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecNegAll")%></option></select></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblSecInsEnt")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSecInsEnt")%>:</td><td><select p_required=true name="selAllowEntInst"><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_ENT_INSTANCES)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecAllowAll")%></option><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_ENT_INSTANCES)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecNegAll")%></option></select></td><td title="<%=LabelManager.getToolTip(labelSet,"lblSecInsPro")%>"><%=LabelManager.getNameWAccess(labelSet,"lblSecInsPro")%>:</td><td><select p_required=true name="selAllowProInst"><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_PRO_INSTANCE)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecAllowAll")%></option><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_ALLOW_PRO_INSTANCE)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblSecNegAll")%></option></select></td></tr><tr><td>&nbsp;</td></tr><tr><input type="hidden" name="hidUsrCanWrite" value="<%=saveChanges%>"></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusExceptEle")%></DIV><div type="grid" id="gridSecElement" height="100"><table id="tblSecElementTable" class="tblDataGrid" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="100px" style="width:100px" title="<%=LabelManager.getToolTip(labelSet,"lblEle")%>"><%=LabelManager.getName(labelSet,"lblEle")%></th><th min_width="200px" style="min-width:200px;width:100%" title="<%=LabelManager.getToolTip(labelSet,"lblName")%>"><%=LabelManager.getName(labelSet,"lblName")%></th></tr></thead><tbody id="tblSecElement"><%
							for (Iterator it = monBusVo.getAllFor(MonBusinessVo.FOR_ELEMENTS).iterator(); it.hasNext(); ) {
								Object obj = it.next();
								String type = null;
								String typeDesc = null;
								String name = null;
								String id = null;
								if (obj instanceof MonBusProjectVo) {
									MonBusProjectVo vo = (MonBusProjectVo) obj;
									type = MonBusinessVo.TYPE_PROJECT;
									typeDesc = LabelManager.getName(labelSet,"lblEleProject");
									name = vo.getPrjName();
									id = (vo.getPrjId() == null) ? "" : vo.getPrjId().toString();
								} else if (obj instanceof MonBusBusEntityVo) {
									MonBusBusEntityVo vo = (MonBusBusEntityVo) obj;
									type = MonBusinessVo.TYPE_BUS_ENTITY;
									typeDesc = LabelManager.getName(labelSet,"lblEleBusEntity");
									name = vo.getBusEntName();
									id = (vo.getBusEntId() == null) ? "" : vo.getBusEntId().toString();
									
								} else if (obj instanceof MonBusProcessVo) {
									MonBusProcessVo vo = (MonBusProcessVo) obj;
									type = MonBusinessVo.TYPE_PROCESS;
									typeDesc = LabelManager.getName(labelSet,"lblEleProcess");
									name = vo.getProName();
									id = (vo.getProId() == null) ? "" : vo.getProId().toString();
									
								} %><tr><td style="width:0px;display:none;"><input type="hidden"><input type="hidden" name="eleType" value="<%= type %>"><input type="hidden" name="eleName" value="<%= name %>"><input type="hidden" name="eleId" value="<%= id %>"></td><td><%= typeDesc %></td><td style="min-width:200px"><%= name %></td></tr><%
							} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td></td><td><button type="button" onclick="btnAddProject_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPrj")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPrj")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPrj")%></button><button type="button" onclick="btnAddEntity_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrEnt")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrEnt")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrEnt")%></button><button type="button" onclick="btnAddProcess_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPro")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPro")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPro")%></button><button type="button" onclick="btnDelElement_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusExceptEntInst")%></DIV><div type="grid" id="gridSecEntInst" height="100"><table id="tblSecEntInstTable" class="tblDataGrid" style="width:100px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="200px" style="min-width:200px;width:90%" title="<%=LabelManager.getToolTip(labelSet,"lblName")%>"><%=LabelManager.getName(labelSet,"lblName")%></th></tr></thead><tbody id="tblSecEntInst"><%
							for (Iterator it = monBusVo.getAllFor(MonBusinessVo.FOR_ENT_INSTANCES).iterator(); it.hasNext(); ) {
								MonBusBusEntityVo vo = (MonBusBusEntityVo) it.next(); %><tr><td style="width:0px;display:none;"><input type="hidden"><input type="hidden" name="busEntId" value="<%= vo.getBusEntId() %>"><input type="hidden" name="busEntName" value="<%= vo.getBusEntName() %>"></td><td style="min-width:200px"><%= vo.getBusEntName() %></td></tr><%
							} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td></td><td><button type="button" onclick="btnAddEntInst_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrEnt")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrEnt")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrEnt")%></button><button type="button" onclick="btnDelEntInst_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusExceptProInst")%></DIV><div type="grid" id="tblSecProInst" height="100"><table id="tblSecProInstTable" class="tblDataGrid" style="width:100px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="200px" style="min-width:200px;width:100%" title="<%=LabelManager.getToolTip(labelSet,"lblName")%>"><%=LabelManager.getName(labelSet,"lblName")%></th></tr></thead><tbody id="tblSecProInst"><%
							for (Iterator it = monBusVo.getAllFor(MonBusinessVo.FOR_PRO_INSTANCES).iterator(); it.hasNext(); ) {
								MonBusProcessVo vo = (MonBusProcessVo) it.next(); %><tr><td style="width:0px;display:none;"><input type="hidden"><input type="hidden" name="proId" value="<%= vo.getProId() %>"><input type="hidden" name="proName" value="<%= vo.getProName() %>"></td><td style="min-width:200px"><%= vo.getProName() %></td></tr><%
							} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td></td><td><button type="button" onclick="btnAddProInst_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPro")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPro")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPro")%></button><button type="button" onclick="btnDelProInst_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table></div><div type="tab" style="visibility:hidden" tabTitle="<%=LabelManager.getToolTip(labelSet,"tabMonBusPer")%>" tabText="<%=LabelManager.getName(labelSet,"tabMonBusPer")%>"><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusQryEle")%></DIV><div type="grid" id="gridSecView" height="225"><table id="tblSecViewTable" class="tblDataGrid" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="75px" style="width:75px" title="<%=LabelManager.getToolTip(labelSet,"lblEle")%>"><%=LabelManager.getName(labelSet,"lblEle")%></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"lblName")%>"><%=LabelManager.getName(labelSet,"lblName")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryEleRel")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryEleRel")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryEleProp")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryEleProp")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryEleInst")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryEleInst")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryInstRel")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryInstRel")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryInstProp")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryInstProp")%></th><th min_width="200px" style="width:200px" title="<%=LabelManager.getToolTip(labelSet,"lblMonBusQryDepProp")%>"><%=LabelManager.getName(labelSet,"lblMonBusQryDepProp")%></th></tr></thead><tbody id="tblSecView"><%
								for (Iterator it = monBusVo.getAllFor(MonBusinessVo.FOR_VIEW).iterator(); it.hasNext(); ) {
									Object obj = it.next();
									String type = null;
									String typeDesc = null;
									String name = null;
									String id = null;
									
									Integer qryIdRelated = null;
									Integer qryIdProperties = null;
									Integer qryIdInstnaces = null;
									Integer qryIdInstRelated = null;
									Integer qryIdInstProperties = null;
									Integer qryIdDepProperties = null;
									
									String qryNameRelated = "";
									String qryNameProperties = "";
									String qryNameInstnaces = "";
									String qryNameInstRelated = "";
									String qryNameInstProperties = "";
									String qryNameDepProperties = "";
									
									if (obj instanceof MonBusBusEntityVo) {
										MonBusBusEntityVo vo = (MonBusBusEntityVo) obj;
										
										type = MonBusinessVo.TYPE_BUS_ENTITY;
										typeDesc = LabelManager.getName(labelSet,"lblEleBusEntity");
										name = vo.getBusEntName();
										
										qryIdRelated = vo.getQryIdEleRelated();
										qryIdProperties = vo.getQryIdEleProperties();
										qryIdInstnaces = vo.getQryIdEleInstances();
										qryIdInstRelated = vo.getQryIdInstRelated();
										qryIdInstProperties = vo.getQryIdInstProperties();
										qryIdDepProperties = vo.getQryIdDepProperties();
		
										qryNameRelated = vo.getQryNameEleRelated();
										qryNameProperties = vo.getQryNameEleProperties();
										qryNameInstnaces = vo.getQryNameEleInstances();
										qryNameInstRelated = vo.getQryNameInstRelated();
										qryNameInstProperties = vo.getQryNameInstProperties();
										qryNameDepProperties = vo.getQryNameDepProperties();
		
										id = (vo.getBusEntId() == null) ? "" : vo.getBusEntId().toString();
										
									} else if (obj instanceof MonBusProcessVo) {
										MonBusProcessVo vo = (MonBusProcessVo) obj;
										
										type = MonBusinessVo.TYPE_PROCESS;
										typeDesc = LabelManager.getName(labelSet,"lblEleProcess");
										name = vo.getProName();
										
										qryIdRelated = vo.getQryIdEleRelated();
										qryIdProperties = vo.getQryIdEleProperties();
										qryIdInstnaces = vo.getQryIdEleInstances();
										qryIdInstRelated = vo.getQryIdInstRelated();
										qryIdInstProperties = vo.getQryIdInstProperties();
										qryIdDepProperties = vo.getQryIdDepProperties();
		
										qryNameRelated = vo.getQryNameEleRelated();
										qryNameProperties = vo.getQryNameEleProperties();
										qryNameInstnaces = vo.getQryNameEleInstances();
										qryNameInstRelated = vo.getQryNameInstRelated();
										qryNameInstProperties = vo.getQryNameInstProperties();
										qryNameDepProperties = vo.getQryNameDepProperties();
		
										id = (vo.getProId() == null) ? "" : vo.getProId().toString();
									}
									
									if (qryNameRelated == null) qryNameRelated = "";
									if (qryNameProperties == null) qryNameProperties = "";
									if (qryNameInstnaces == null) qryNameInstnaces = "";
									if (qryNameInstRelated == null) qryNameInstRelated = "";
									if (qryNameInstProperties == null) qryNameInstProperties = "";
									if (qryNameDepProperties == null) qryNameDepProperties = "";
									
									%><tr><td style="width:0px;display:none;"><input type="hidden"><input type="hidden" name="eleViewType" value="<%= type %>"><input type="hidden" name="eleViewName" value="<%= name %>"><input type="hidden" name="eleViewId" value="<%= id %>"></td><td><%= dBean.fmtStr(typeDesc) %></td><td><%= dBean.fmtStr(name) %></td><td><input type="hidden" name="qryIdRelated" value="<%= dBean.fmtInt(qryIdRelated) %>"><input type="hidden" name="qryNameRelated" value="<%= qryNameRelated %>"><input type="text" name="xxxqryNameProperties" readonly class='txtReadOnly' value="<%= qryNameRelated %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_RELATED %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td><td><input type="hidden" name="qryIdProperties" value="<%= dBean.fmtInt(qryIdProperties) %>"><input type="hidden" name="qryNameProperties" value="<%= qryNameProperties %>"><input type="text" name="xxxqryNameProperties" readonly class='txtReadOnly' value="<%= qryNameProperties %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_PROPERTIES %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td><td><input type="hidden" name="qryIdInstnaces" value="<%= dBean.fmtInt(qryIdInstnaces) %>"><input type="hidden" name="qryNameInstnaces" value="<%= qryNameInstnaces %>"><input type="text" name="xxxqryNameInstnaces" readonly class='txtReadOnly' value="<%= qryNameInstnaces %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_INSTANCES %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td><td><input type="hidden" name="qryIdInstRelated" value="<%= dBean.fmtInt(qryIdInstRelated) %>"><input type="hidden" name="qryNameInstRelated" value="<%= qryNameInstRelated %>"><input type="text" name="xxxqryNameInstRelated" readonly class='txtReadOnly' value="<%= qryNameInstRelated %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_RELATED %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td><td><input type="hidden" name="qryIdInstProperties" value="<%= dBean.fmtInt(qryIdInstProperties) %>"><input type="hidden" name="qryNameInstProperties" value="<%= qryNameInstProperties %>"><input type="text" name="xxxqryNameInstProperties" readonly class='txtReadOnly' value="<%= qryNameInstProperties %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_PROPERTIES %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td><td><input type="hidden" name="qryIdDepProperties" value="<%= dBean.fmtInt(qryIdDepProperties) %>"><input type="hidden" name="qryNameDepProperties" value="<%= qryNameDepProperties %>"><input type="text" name="xxxqryNameDepProperties" readonly class='txtReadOnly' value="<%= qryNameDepProperties %>"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btnQuery.gif" onclick="btnLoadQry_click(getParentCell(this), '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_DEP_PROPERTIES %>')" style="cursor:hand"><img src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/eraser.gif" onclick="btnRemQry_click(getParentCell(this))" title="<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>"></td></tr><%
								} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td></td><td><button type="button" onclick="btnAddViewEntity_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrEnt")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrEnt")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrEnt")%></button><button type="button" onclick="btnAddViewProcess_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPro")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPro")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPro")%></button><button type="button" onclick="btnDelViewElement_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusInitFilters")%></DIV><div type="grid" id="gridInitFiltersView" height="175"><table id="tblSecInitFiltersTable" class="tblDataGrid" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="210px" style="width:210px" title="<%=LabelManager.getToolTip(labelSet,"lblName")%>"><%=LabelManager.getName(labelSet,"lblName")%></th><th min_width="210px" style="width:210px" title="<%=LabelManager.getToolTip(labelSet,"lblTitle")%>"><%=LabelManager.getName(labelSet,"lblTitle")%></th><th min_width="90px" style="width:90px" title="<%=LabelManager.getToolTip(labelSet,"lblType")%>"><%=LabelManager.getName(labelSet,"lblType")%></th><th min_width="120px" style="width:120px" title="<%=LabelManager.getToolTip(labelSet,"lblDefValue")%>"><%=LabelManager.getName(labelSet,"lblDefValue")%></th><th min_width="60px" style="width:60px" title="<%=LabelManager.getToolTip(labelSet,"lblReq")%>"><%=LabelManager.getName(labelSet,"lblReq")%></th><th min_width="60px" style="width:60px" title="<%=LabelManager.getToolTip(labelSet,"lblHidden")%>"><%=LabelManager.getName(labelSet,"lblHidden")%></th></tr></thead><tbody id="tblSecProInst"><%
								if (monBusVo.getFilters() != null) {
									for (Iterator it = monBusVo.getFilters().iterator(); it.hasNext(); ) {
										MonBusFilterVo vo = (MonBusFilterVo) it.next(); %><tr><td style="width:0px;display:none;"><input type="hidden"><input type="hidden" name="monBusFilId" value="<%= dBean.fmtHTML(vo.getMonBusFilId()) %>"></td><td><input type="text" size="30" p_required=true name="monBusFilName" value="<%= vo.getMonBusFilName() %>"></td><td><input type="text" size="30" p_required=true name="monBusFilTitle" value="<%= vo.getMonBusFilTitle() %>"></td><td><select name="monBusFilType"><option value="<%=MonBusFilterVo.TYPE_STRING%>" <%if(MonBusFilterVo.TYPE_STRING.equals(vo.getMonBusFilType())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblStr")%></option><option value="<%=MonBusFilterVo.TYPE_NUMERIC%>" <%if(MonBusFilterVo.TYPE_NUMERIC.equals(vo.getMonBusFilType())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblNum")%></option><option value="<%=MonBusFilterVo.TYPE_DATE%>" <%if(MonBusFilterVo.TYPE_DATE.equals(vo.getMonBusFilType())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblFec")%></option></select></td><td style="min-width:90px"><input type="text" name="monBusFilValue" value="<%= vo.getMonBusFilValue() %>"></td><td><select name="monBusFilFlag0"><option value="1" <%= vo.getFlagValue(MonBusFilterVo.FLAG_REQUIRED)?"selected":""%>><%=LabelManager.getName(labelSet,"lblYes")%></option><option value="0" <%= (!vo.getFlagValue(MonBusFilterVo.FLAG_REQUIRED))?"selected":""%>><%=LabelManager.getName(labelSet,"lblNo")%></option></select></td><td><select name="monBusFilFlag1"><option value="1" <%= vo.getFlagValue(MonBusFilterVo.FLAG_HIDDEN)?"selected":""%>><%=LabelManager.getName(labelSet,"lblYes")%></option><option value="0" <%= (!vo.getFlagValue(MonBusFilterVo.FLAG_HIDDEN))?"selected":""%>><%=LabelManager.getName(labelSet,"lblNo")%></option></select></td></tr><%
									} 
								} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td></td><td><button type="button" onclick="btnAddFilter_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAddInitFilter")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAddInitFilter")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAddInitFilter")%></button><button type="button" onclick="btnDelFilter_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtMonBusPerVis")%></DIV><table class="tblFormLayout"><COL class="col1"><COL class="col2"><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonShowAsTree")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonShowAsTree")%>:</td><td><select name="selShowAsTree"><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_SHOW_AS_TREE)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_SHOW_AS_TREE)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonCheShowEntRel")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonCheShowEntRel")%>:</td><td><select name="selNotCheckedShowEntRel"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_ENT_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_ENT_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonCheShowProRel")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonCheShowProRel")%>:</td><td><select name="selNotCheckedShowProRel"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_PRO_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_PRO_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonCheShowTskRel")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonCheShowTskRel")%>:</td><td><select name="selNotCheckedShowTskRel"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_TSK_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_SHOW_TSK_RELATED)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonCheGroupEntInst")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonCheGroupEntInst")%>:</td><td><select name="selNotCheckedGroupEntInst"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_GROUP_ENT_INST)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_GROUP_ENT_INST)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonCheGroupProInst")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonCheGroupProInst")%>:</td><td><select name="selNotCheckedGroupProInst"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_GROUP_PRO_INST)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_NOT_CHECKED_GROUP_PRO_INST)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonShowVis")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonShowVis")%>:</td><td><select name="selDontShowVis"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_VISUALIZATION)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_VISUALIZATION)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonShowHis")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonShowHis")%>:</td><td><select name="selDontShowHis"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_HISTORY)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_HISTORY)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr><tr><td title='<%=LabelManager.getToolTip(labelSet,"lblBusMonShowInst")%>'><%=LabelManager.getNameWAccess(labelSet,"lblBusMonShowInst")%>:</td><td><select name="selDontShowInst"><option value="false" <% if (! monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_INSTANCES)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblYes")%></option><option value="true" <% if (monBusVo.getFlagValue(MonBusinessVo.FLAG_DONT_SHOW_INSTANCES)) {%>selected<% } %>><%=LabelManager.getNameWAccess(labelSet,"lblNo")%></option></select></td></tr></table></div><!--      PERMISOS          --><div type="tab" style="visibility:hidden" style="visibility:hidden;" tabTitle="<%=LabelManager.getToolTip(labelSet,"tabMonBusPerms")%>" tabText="<%=LabelManager.getName(labelSet,"tabMonBusPerms")%>"><%@ include file="permissions.jsp" %></div></div></form></div></div><TABLE class="pageBottom"><COL class="col1"><COL class="col2"><TR><TD></TD><TD><button type="button" onclick="btnConf_click()" <%=(!saveChanges)?"disabled":"" %> accesskey="<%=LabelManager.getAccessKey(labelSet,"btnCon")%>" title="<%=LabelManager.getToolTip(labelSet,"btnCon")%>"><%=LabelManager.getNameWAccess(labelSet,"btnCon")%></button><button type="button" onclick="btnBack_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnVol")%>" title="<%=LabelManager.getToolTip(labelSet,"btnVol")%>"><%=LabelManager.getNameWAccess(labelSet,"btnVol")%></button><button type="button" onclick="btnExit_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnSal")%>" title="<%=LabelManager.getToolTip(labelSet,"btnSal")%>"><%=LabelManager.getNameWAccess(labelSet,"btnSal")%></button></TD></TR></TABLE></body></html><script language="javascript" type="text/javascript">

var TYPE_PROJECT = "<%= MonBusinessVo.TYPE_PROJECT %>";
var TYPE_BUS_ENTITY = "<%= MonBusinessVo.TYPE_BUS_ENTITY %>";
var TYPE_PROCESS = "<%= MonBusinessVo.TYPE_PROCESS %>";

var TYPE_PROJECT_DESC = "<%= LabelManager.getName(labelSet,"lblEleProject") %>";
var TYPE_BUS_ENTITY_DESC = "<%= LabelManager.getName(labelSet,"lblEleBusEntity") %>";
var TYPE_PROCESS_DESC = "<%= LabelManager.getName(labelSet,"lblEleProcess") %>";

var TYPE_MON_BUS_ELE_RELATED = '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_RELATED %>';
var TYPE_MON_BUS_ELE_PROPERTIES = '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_PROPERTIES %>';
var TYPE_MON_BUS_ELE_INSTANCES = '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_INSTANCES %>';
var TYPE_MON_BUS_ELE_DEP_PROPERTIES = '<%= com.dogma.vo.IQuery.TYPE_MON_BUS_ELE_DEP_PROPERTIES %>';
var MSG_PERMISSIONS_ERROR = "<%=LabelManager.getName(labelSet,"msgPermError")%>";
var MSG_MUST_SEL_ONE = "<%=LabelManager.getName(labelSet,"msgDebSelUno")%>";
var MSG_PERM_WILL_BE_LOST = "<%=LabelManager.getName(labelSet,"msgPermDefWillBeLost")%>";
var MSG_USE_PROY_PERMS = "<%=LabelManager.getName(labelSet,"msgUseProyPerms")%>";

var ENV_ID = "<%= dBean.getEnvId(request) %>";

var OPTIONS_YES_NO = "<option value='1'><%=LabelManager.getName(labelSet,"lblYes")%></option><option value='0' selected><%=LabelManager.getName(labelSet,"lblNo")%></option>";
var OPTIONS_TYPE = "<option value='<%=MonBusFilterVo.TYPE_STRING%>'><%=LabelManager.getName(labelSet,"lblStr")%></option><option value='<%=MonBusFilterVo.TYPE_NUMERIC%>'><%=LabelManager.getName(labelSet,"lblNum")%></option><option value='<%=MonBusFilterVo.TYPE_DATE%>'><%=LabelManager.getName(labelSet,"lblFec")%></option>";

var btnRemAtt = "<%=LabelManager.getToolTip(labelSet,"btnRemAtt")%>";

</script><%@include file="../../../components/scripts/server/endInc.jsp" %><script language="javascript" src='<%=Parameters.ROOT_PATH%>/programs/administration/monBusiness/update.js'></script>