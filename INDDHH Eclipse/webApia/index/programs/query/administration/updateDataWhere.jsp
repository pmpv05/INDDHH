<%@page import="com.dogma.vo.*"%><%@page import="com.dogma.vo.custom.*"%><%@page import="com.dogma.business.*"%><%@page import="com.dogma.bean.scheduler.SchedulerBean"%><%@page import="com.dogma.dao.DataBaseDAO"%><%@page import="com.dogma.util.*"%><%@page import="java.util.*"%><%@page import="com.dogma.util.DogmaUtil"%><%@page import="com.dogma.util.DogmaUtil"%><%@page import="com.dogma.business.querys.factory.*" %><% if (! queryVo.isFreeSQL()) { %><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtQryWhere")%></DIV><div type="grid" id="gridWhere" style="height:240px"><table id="tblWhere"  width="730px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="50px" style="width:50px" title="<%=LabelManager.getToolTip(labelSet,"lblQryColOper")%>"><%=LabelManager.getName(labelSet,"lblQryColOper")%></th><th min_width="50px" style="width:50px" title=""></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"lblQryColName")%>"><%=LabelManager.getName(labelSet,"lblQryColName")%></th><th min_width="100px" style="width:100px<% if (queryVo.getFlagValue(QueryVo.FLAG_TO_PROCEDURE)) { %>;display:none<%}%>" title="<%=LabelManager.getToolTip(labelSet,"lblQryConFil")%>"><%=LabelManager.getName(labelSet,"lblQryConFil")%></th><th min_width="240px" style="width:240px" title="<%=LabelManager.getToolTip(labelSet,"lblQryValue")%>"><%=LabelManager.getName(labelSet,"lblQryValue")%></th><th min_width="90px" style="width:90px; display:none" title="<%=LabelManager.getToolTip(labelSet,"lblQryAttFrom")%>"><%=LabelManager.getName(labelSet,"lblQryAttFrom")%></th><th min_width="50px" style="width:50px" title=""></th></tr></thead><tbody id="tblWhereBody"><%
								if (queryVo.getFlagValue(QueryVo.FLAG_ALLOW_ATTRIBUTE)) { %><tr fixed="true"><td style="width:0px;display:none;"><input type="hidden" name="chkWhereSel" value="" x_disabled="true"><input type="hidden" name="chkWhereHidd2" value=""><input type=hidden name="hidWheColIdHid2" value=""><input type=hidden name="hidWheAttIdHid2" value=""><input type=hidden name="hidWheDatType2" value=""><input type=hidden name="hidWheColName2" value="env_id"><input type=hidden name="hidWheDbType2" value=""></td><td><select name="cmbOperId_" style="display:none;"><option value="0" selected>AND</option></select></td><td><input type="text" name="cmbParStarHid"  value="" style="display:none;" onkeypress="return validkey(true,event);"></td><td><%=dBean.fmtStr(QueryColumns.COLUMN_ENV_ID)%></td><td align="center"><%=LabelManager.getName(labelSet,"lblQryFilEqual")%></td><td align="center"><%=dBean.fmtStr(dBean.getUserData(request).getEnvironmentName())%></td><td align="center" style="display:none" style="<%= (!(queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES) && queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES)))?";display:none":"" %>"><input type="hidden" name="cmbWheAttFrom2" value="-1"></input></td><td><input type="hidden" name="cmbParEndHid" value=""></td></tr><%
								}
								
								boolean mustAddEntCmb = QueryVo.TYPE_ENTITY.equals(queryVo.getQryType()) || QueryVo.TYPE_ENTITY_AUTOMATIC.equals(queryVo.getQryType()) || QueryVo.TYPE_PRO_CANCEL.equals(queryVo.getQryType()) || QueryVo.TYPE_PRO_ALTER.equals(queryVo.getQryType());
								
 								if (queryVo.getWhereAndFunctionColumns() != null && queryVo.getWhereAndFunctionColumns().size() > 0){
 									int columnCount = queryVo.getWhereAndFunctionColumns().size();
 									Iterator itShow = queryVo.getWhereAndFunctionColumns().iterator();
  									while (itShow.hasNext()) {
 										QryColumnVo columnVo = (QryColumnVo) itShow.next(); 
 										if (mustAddEntCmb && QueryColumns.COLUMN_BUS_ENT_ID.equals(columnVo.getQryColName().toUpperCase())) { 
 											mustAddEntCmb = false; %><tr><td style="width:0px;display:none;"><input type="hidden" name="chkWhereSel" value="" x_disabled="true"><input type=hidden name="hidWheColId" value="<%=dBean.fmtInt(columnVo.getQryColId())%>"><input type=hidden name="hidWheAttId" value="<%=dBean.fmtInt(columnVo.getAttId())%>"><input type=hidden name="hidWheDatType" value="<%=dBean.fmtStr(columnVo.getQryColDataType())%>"><input type=hidden name="hidWheColName" value="<%=dBean.fmtStr(columnVo.getQryColName())%>"><input type=hidden name="hidWheDbType" value="<%=dBean.fmtStr(columnVo.getQryColDbType())%>"><input type=hidden name="hidWheParId" value="<%=dBean.fmtInt(columnVo.getBusClaParId())%>"></td><td><select name="cmbOperId" style="display:none;"><option value="0" selected>AND</option></select></td><td><input type="text" name="cmbParStar"  value="" style="display:none;" onkeypress="return validkey(true,event);"></td><td><%=dBean.fmtStr(columnVo.getQryColName())%></td><td align="center"><input type="hidden" name="cmbWheFilter" value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_EQUAL)%>"><%=LabelManager.getName(labelSet,"lblQryFilEqual")%></td><td align="center"><% 	if (!QueryVo.TYPE_ENTITY_AUTOMATIC.equals(queryVo.getQryType())) { %><select name="txtWheVal" p_required='true'><%
														if (columnVo.getQryColValue() == null || columnVo.getQryColValue().length() == 0) { %><option value=""></option><%
														}
														if (dBean.getEntities() != null) {
															Iterator it = dBean.getEntities().iterator();
															while (it.hasNext()) {
																BusEntityVo entVo = (BusEntityVo) it.next(); %><option value="<%= dBean.fmtInt(entVo.getBusEntId()) %>" <%= (entVo.getBusEntId().toString().equals(columnVo.getQryColValue()))?"selected":"" %>><%= dBean.fmtStr(entVo.getBusEntName()) %></option><%
															}
														} %></selected><%}else{ %><select name="txtWheVal" p_required='true'><option value="<%= dBean.getEntityId().intValue() %>"  selected ><%= dBean.getEntityName() %></option></select><%} %><input type="hidden" name="cmbWheTip" value="<%= QryColumnVo.COLUMN_TYPE_FILTER %>"><input type="hidden" name="cmbColFun" value=""></td><td align="center" style="display:none"><input type="hidden" name="cmbWheAttFrom" value="-1"></input></td><td><input type="text" name="cmbParEnd" value="" style="display:none;" onkeypress="return validkey(false,event);"></td></tr><%
 										} else if (QueryVo.TYPE_ENTITY_MODAL.equals(queryVo.getQryType()) && QueryColumns.COLUMN_BUS_ENT_ID.equals(columnVo.getQryColName().toUpperCase())) { %><tr fixed="true"><td  style="width:0px;display:none;"><input type="hidden" name="chkWhereSel" value=""><input type=hidden name="hidWheColId" value="<%=dBean.fmtInt(columnVo.getQryColId())%>"><input type=hidden name="hidWheAttId" value="<%=dBean.fmtInt(columnVo.getAttId())%>"><input type=hidden name="hidWheDatType" value="<%=dBean.fmtStr(columnVo.getQryColDataType())%>"><input type=hidden name="hidWheColName" value="<%=dBean.fmtStr(columnVo.getQryColName())%>"><input type=hidden name="hidWheDbType" value="<%=dBean.fmtStr(columnVo.getQryColDbType())%>"><input type=hidden name="hidWheParId" value="<%=dBean.fmtInt(columnVo.getBusClaParId())%>"></td><td><select name="cmbOperId" style="display:none;"><option value="0" <%= (! columnVo.getFlagValue(QryColumnVo.FLAG_WHERE_OR_OPERATOR))?"selected":"" %>>AND</option><option value="1" <%= (columnVo.getFlagValue(QryColumnVo.FLAG_WHERE_OR_OPERATOR))?"selected":"" %>>OR</option></select></td><td><input type="text" name="cmbParStar"  value="<%= QueryUtil.getParentesis(columnVo.getQryColParStart(),true) %>" style="display:none;" onkeypress="return validkey(true,event);"></td><td><%=dBean.fmtStr(columnVo.getQryColName())%></td><td align="center"><input type="hidden" name="cmbWheFilter" value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_EQUAL)%>"><%=LabelManager.getName(labelSet,"lblQryFilEqual")%></td><td align="center"><input type=hidden name="txtWheVal" value="<%=columnVo.getQryColValue()%>"><%
													BusEntityVo vo = dBean.getEntityVo(request,new Integer(columnVo.getQryColValue()));
													if (vo != null) { %><%= dBean.fmtHTML(vo.getBusEntName())%><% } %><input type="hidden" name="cmbWheTip" value="<%= QryColumnVo.COLUMN_TYPE_FILTER %>"><input type="hidden" name="cmbColFun" value=""></td><td align="center" style="<%= (!(queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES) && queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES)))?";display:none":"" %>"><select name="cmbWheAttFrom" style="<%= (columnVo.getAttId() == null)?";display:none":"" %>"><% if (queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES)) { %><option value="1" <%= columnVo.getFlagValue(QryColumnVo.FLAG_IS_ENT_ATTRIBUTE)?"selected":""%>><%=LabelManager.getName(labelSet,"lblYes")%></option><%}%><% if (queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES)) { %><option value="0" <%= (!columnVo.getFlagValue(QryColumnVo.FLAG_IS_ENT_ATTRIBUTE))?"selected":""%>><%=LabelManager.getName(labelSet,"lblNo")%></option><%}%><% if (!(queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES) || queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES))) { %><option value="-1"></option><%}%></select></td><td><input type="text" name="cmbParEnd" value="<%= QueryUtil.getParentesis(columnVo.getQryColParEnd(),false) %>" style="display:none;" onkeypress="return validkey(false,event);"></td></tr><%
 										} else { %><tr><td  style="width:0px;display:none;"><input type="hidden" name="chkWhereSel" value=""><input type=hidden name="hidWheColId" value="<%=dBean.fmtInt(columnVo.getQryColId())%>"><input type=hidden name="hidWheAttId" value="<%=dBean.fmtInt(columnVo.getAttId())%>"><input type=hidden name="hidWheDatType" value="<%=dBean.fmtStr(columnVo.getQryColDataType())%>"><input type=hidden name="hidWheColName" value="<%=dBean.fmtStr(columnVo.getQryColName())%>"><input type=hidden name="hidWheDbType" value="<%=dBean.fmtStr(columnVo.getQryColDbType())%>"><input type=hidden name="hidWheParId" value="<%=dBean.fmtInt(columnVo.getBusClaParId())%>"></td><td><select name="cmbOperId"><option value="0" <%= (! columnVo.getFlagValue(QryColumnVo.FLAG_WHERE_OR_OPERATOR))?"selected":"" %>>AND</option><option value="1" <%= (columnVo.getFlagValue(QryColumnVo.FLAG_WHERE_OR_OPERATOR))?"selected":"" %>>OR</option></select></td><td><input type="text" name="cmbParStar"  value="<%= QueryUtil.getParentesis(columnVo.getQryColParStart(),true) %>" size="6" onkeypress="return validkey(true,event);"></td><td><%=dBean.fmtStr(columnVo.getQryColName())%></td><% if (! queryVo.getFlagValue(QueryVo.FLAG_TO_PROCEDURE)) { %><td align="center"><select name="cmbWheFilter" onchange="cmbWheFil_change(this)"><%if(! columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_LESS)%>" <%if(QryColumnVo.COLUMN_FILTER_LESS.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilLess")%></option><%}%><%if(! columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_MORE)%>" <%if(QryColumnVo.COLUMN_FILTER_MORE.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilMore")%></option><%}%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_EQUAL)%>" <%if(QryColumnVo.COLUMN_FILTER_EQUAL.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilEqual")%></option><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_DISTINCT)%>" <%if(QryColumnVo.COLUMN_FILTER_DISTINCT.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilDis")%></option><%if(! columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_LESS_EQUAL)%>" <%if(QryColumnVo.COLUMN_FILTER_LESS_EQUAL.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilLessE")%></option><%}%><%if(! columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_MORE_EQUAL)%>" <%if(QryColumnVo.COLUMN_FILTER_MORE_EQUAL.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilMoreE")%></option><%}%><%if(columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_LIKE)%>" <%if(QryColumnVo.COLUMN_FILTER_LIKE.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilLike")%></option><%}%><%if(columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_NOT_LIKE)%>" <%if(QryColumnVo.COLUMN_FILTER_NOT_LIKE.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilNotLike")%></option><%}%><%if(columnVo.getQryColDataType().equals(QryColumnVo.COLUMN_DATA_STRING)){%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_START_WITH)%>" <%if(QryColumnVo.COLUMN_FILTER_START_WITH.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilStartWith")%></option><%}%><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_NULL)%>" <%if(QryColumnVo.COLUMN_FILTER_NULL.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilNull")%></option><option value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_NOT_NULL)%>" <%if(QryColumnVo.COLUMN_FILTER_NOT_NULL.equals(columnVo.getQryColTypeFilter())) {out.print("selected");}%>><%=LabelManager.getName(labelSet,"lblQryFilNotNull")%></option></select></td><% } else { %><td style="display:none"><input type="hidden" name="cmbWheFilter" value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_EQUAL)%>"></td><% } %><td align="center"><div style="white-space:nowrap;<%if(QryColumnVo.COLUMN_FILTER_NULL.equals(columnVo.getQryColTypeFilter()) || QryColumnVo.COLUMN_FILTER_NOT_NULL.equals(columnVo.getQryColTypeFilter())) {out.print("display:none;");}%>"><select name="cmbWheTip" onchange="cmbWheTip_change(this)"><option value="<%= QryColumnVo.COLUMN_TYPE_FILTER %>" <%= QryColumnVo.COLUMN_TYPE_FILTER.equals(columnVo.getQryColType())?"selected":"" %>><%=LabelManager.getName(labelSet,"lblQryValue")%></option><option value="<%= QryColumnVo.COLUMN_TYPE_FUNCTION %>" <%= QryColumnVo.COLUMN_TYPE_FUNCTION.equals(columnVo.getQryColType())?"selected":"" %>><%=LabelManager.getName(labelSet,"lblQryFunc")%></option></select><select name="cmbColFun" style="<%= QryColumnVo.COLUMN_TYPE_FILTER.equals(columnVo.getQryColType())?"display:none":"" %>"><% if (QryColumnVo.COLUMN_DATA_DATE.equals(columnVo.getQryColDataType())) { %><option value="<%= QryColumnVo.FUNCTION_CURRENT_DATE %>" <%= (columnVo.getQryColFunction() != null && QryColumnVo.FUNCTION_CURRENT_DATE == columnVo.getQryColFunction().intValue())?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryFunDteEqu")%></option><% } %><% if (QryColumnVo.COLUMN_DATA_NUMBER.equals(columnVo.getQryColDataType())) { %><option value="<%= QryColumnVo.FUNCTION_ENV_ID%>" <%= (columnVo.getQryColFunction() != null && QryColumnVo.FUNCTION_ENV_ID == columnVo.getQryColFunction().intValue())?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryFunEnvId")%></option><% } %><% if (QryColumnVo.COLUMN_DATA_STRING.equals(columnVo.getQryColDataType())) { %><option value="<%= QryColumnVo.FUNCTION_ENV_NAME%>" <%= (columnVo.getQryColFunction() != null && QryColumnVo.FUNCTION_ENV_NAME == columnVo.getQryColFunction().intValue())?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryFunEnvName")%></option><% } %><% if (QryColumnVo.COLUMN_DATA_STRING.equals(columnVo.getQryColDataType())) { %><option value="<%= QryColumnVo.FUNCTION_USER%>" <%= (columnVo.getQryColFunction() != null && QryColumnVo.FUNCTION_USER == columnVo.getQryColFunction().intValue())?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryFunUser")%></option><% } %></select><div style="white-space:nowrap;<%= QryColumnVo.COLUMN_TYPE_FUNCTION.equals(columnVo.getQryColType())?"display:none":"" %>;"><input p_required='true' name='txtWheVal' req_desc="<%=dBean.fmtStr(columnVo.getQryColName())%>" type='text' maxlength="100" value='<%=dBean.fmtStr(columnVo.getQryColValue())%>' <% if (QryColumnVo.COLUMN_DATA_DATE.equals(columnVo.getQryColDataType())) { %> class="txtDate" size='10' p_mask="<%=DogmaUtil.getHTMLDateMask(dBean.getEnvId(request))%>" p_calendar="true"<%} else if (QryColumnVo.COLUMN_DATA_NUMBER.equals(columnVo.getQryColDataType())) { %> p_numeric='true'<%} else if (QryColumnVo.COLUMN_DATA_STRING.equals(columnVo.getQryColDataType())) { %> maxlength='100'<%} %>></div></div></td><td align="center" style="<%= (!(queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES) && queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES)))?"display:none":"" %>"><select name="cmbWheAttFrom" style="<%= (columnVo.getAttId() == null)?";display:none":"" %>"><% if (queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES)) { %><option value="1" <%= columnVo.getFlagValue(QryColumnVo.FLAG_IS_ENT_ATTRIBUTE)?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryAttFromEnt")%></option><%}%><% if (queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES)) { %><option value="0" <%= (!columnVo.getFlagValue(QryColumnVo.FLAG_IS_ENT_ATTRIBUTE))?"selected":""%>><%=LabelManager.getName(labelSet,"lblQryAttFromPro")%></option><%}%><% if (!(queryVo.getFlagValue(QueryVo.FLAG_ENT_ATTRIBUTES) || queryVo.getFlagValue(QueryVo.FLAG_PRO_ATTRIBUTES))) { %><option value="-1"></option><%}%></select></td><td><input type="text" name="cmbParEnd" value="<%= QueryUtil.getParentesis(columnVo.getQryColParEnd(),false) %>" size="6" onkeypress="return validkey(false,event);"></td></tr><%
									   	}
 	   								}
  								} 
  								if (mustAddEntCmb) {%><tr><td style="width:0px;display:none;"><input type="hidden" name="chkWhereSel" value="" x_disabled="true"><input type=hidden name="hidWheColId" value=""><input type=hidden name="hidWheAttId" value=""><input type=hidden name="hidWheDatType" value="<%=dBean.fmtStr(QryColumnVo.COLUMN_DATA_NUMBER)%>"><input type=hidden name="hidWheColName" value="<%=dBean.fmtStr(QueryColumns.COLUMN_BUS_ENT_ID)%>"><input type=hidden name="hidWheDbType" value="<%=dBean.fmtStr(QryColumnVo.DB_TYPE_COLUMN)%>"><input type=hidden name="hidWheParId" value=""></td><td><select name="cmbOperId" style="display:none;"><option value="0" selected>AND</option></select></td><td><input type="text" name="cmbParStar"  value="" style="display:none;" onkeypress="return validkey(true,event);"></td><td><%=dBean.fmtStr(QueryColumns.COLUMN_BUS_ENT_ID)%></td><td align="center"><input type="hidden" name="cmbWheFilter" value="<%=dBean.fmtStr(QryColumnVo.COLUMN_FILTER_EQUAL)%>"><%=LabelManager.getName(labelSet,"lblQryFilEqual")%></td><td align="center"><select name="txtWheVal" p_required='true' req_desc="<%=dBean.fmtStr(QueryColumns.COLUMN_BUS_ENT_ID)%>"><option value=""></option><%
												if (dBean.getEntities() != null) {
													Iterator it = dBean.getEntities().iterator();
													while (it.hasNext()) {
														BusEntityVo entVo = (BusEntityVo) it.next(); %><option value="<%= dBean.fmtInt(entVo.getBusEntId()) %>"><%= dBean.fmtStr(entVo.getBusEntName()) %></option><%
													}
												} %></selected><input type="hidden" name="cmbWheTip" value="<%= QryColumnVo.COLUMN_TYPE_FILTER %>"><input type="hidden" name="cmbColFun" value=""></td><td align="center" style="display:none"><input type="hidden" name="cmbWheAttFrom" value="-1"></input></td><td><input type="text" name="cmbParEnd" value="" style="display:none;" onkeypress="return validkey(false,event);"></td></tr><%
							   	} %></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><td><button type="button" onclick="upWhere_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnUp")%>" title="<%=LabelManager.getToolTip(labelSet,"btnUp")%>"><%=LabelManager.getNameWAccess(labelSet,"btnUp")%></button><button type="button" onclick="downWhere_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDown")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDown")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDown")%></button></td><td><button type="button" onclick="previewWhereFilter_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnPreview")%>" title="<%=LabelManager.getToolTip(labelSet,"btnPreview")%>"><%=LabelManager.getNameWAccess(labelSet,"btnPreview")%></button><%
				   				if (QueryVo.SOURCE_BUS_CLASS.equals(queryVo.getSource())) { %><button type="button" onclick="btnAddWhereBusClaPar_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPar")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPar")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPar")%></button><%
				   				} else if (QueryVo.SOURCE_CONNECTION.equals(queryVo.getSource())) {
				   					if (queryVo.getFlagValue(QueryVo.FLAG_TO_VIEW)) {%><button type="button" onclick="btnAddWhere_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrCol")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrCol")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrCol")%></button><%
						   				if (false && queryVo.getFlagValue(QueryVo.FLAG_ALLOW_ATTRIBUTE)) {%><button type="button" onclick="btnAddWhereAtt_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrAtt")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrAtt")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrAtt")%></button><%}%><%
					   				} else  {%><button type="button" onclick="btnAddWherePar_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgrPar")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgrPar")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgrPar")%></button><%
					   				}
					   			} %><button type="button" onclick="btnDelWhere_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtPreView")%></DIV><div id="previewWhere" width="100%"></div><% } else { %><table class="tblFormLayout"><COL class="col1"><COL class="col2"><COL class="col3"><COL class="col4"><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblQrySqlWhere")%>"><%=LabelManager.getName(labelSet,"lblQrySqlWhere")%>:</td><td><input type="checkbox" name="chkAddFilterWhere" value="on" <%= (queryVo.getFlagValue(QueryVo.FLAG_ADD_WHERE_TO_USR_FILTERS) ? "checked" : "") %>></td></tr><tr><td title="<%=LabelManager.getToolTip(labelSet,"lblQrySql")%>"><%=LabelManager.getName(labelSet,"lblQrySql")%>:</td><td colspan="3"><textarea rows="10" cols="80" name="qryFreeSQL"><%= queryVo.getFreeSQL() %></textarea></td></tr></table><% } %>
