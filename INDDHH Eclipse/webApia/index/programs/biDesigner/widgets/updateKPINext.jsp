<%@page import="com.dogma.vo.*"%><%@page import="com.dogma.vo.WidgetVo"%><%@page import="com.st.util.XMLUtils"%><%@page import="com.dogma.vo.custom.*"%><%@page import="com.dogma.BIParameters"%><%@include file="../../../components/scripts/server/startInc.jsp"%><HTML><head><%@include file="../../../components/scripts/server/headInclude.jsp"%></head><body><jsp:useBean id="dBean" scope="session" class="com.dogma.bean.administration.WidgetBean"></jsp:useBean><%
dBean.initBean();

WidgetVo widVo = dBean.getWidgetVo();
String actualUser = dBean.getActualUser(request);
boolean saveChanges = (widVo.getWidId()==null)?true:dBean.hasWritePermission(request, widVo.getWidId(), actualUser);

%><TABLE class="pageTop"><COL class="col1"><COL class="col2"><TR><TD><%=LabelManager.getName(labelSet,"titWidget")%></TD><TD></TD></TR></TABLE><DIV id="divContent" class="divContent"><form id="frmMain" name="frmMain" method="POST" onSubmit="return false"><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtDatWidget")%></DIV><table width="100%" class="tblFormLayout"><tr><td width="50%" align="left"><table><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblKpiType")%>"><%=LabelManager.getNameWAccess(labelSet,"lblKpiType")%>:</td><td align="left"><select name="cmbKpiType" id="cmbKpiType" onChange="cmbTypeNext_change()" style="width:100px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblKpiType")%>" p_required="true"><option value="<%=WidgetVo.WIDGET_KPI_TYPE_GAUGE_ID%>" <%=(widVo != null && widVo.getWidKpiType() != null && widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_GAUGE_ID)?"selected":""%>><%=widVo.WIDGET_KPI_TYPE_GAUGE_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_TYPE_TRAFFIC_LIGHT_ID%>" <%=(widVo != null && widVo.getWidKpiType() != null && widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_TRAFFIC_LIGHT_ID)?"selected":""%>><%=widVo.WIDGET_KPI_TYPE_TRAFFIC_LIGHT_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_TYPE_COUNTER_ID%>" <%=(widVo != null && widVo.getWidKpiType() != null && widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_COUNTER_ID)?"selected":""%>><%=widVo.WIDGET_KPI_TYPE_COUNTER_NAME%></option></select><input type=hidden name="kpiTypIdHid" value="<%=(widVo!=null && widVo.getWidKpiType() != null)?widVo.getWidKpiType().intValue():0%>"></td><td style="width:100px;" align="right" title="<%=LabelManager.getToolTip(labelSet,"lblStyle")%>"><%=LabelManager.getNameWAccess(labelSet,"lblStyle")%>:</td><td align="left"><select name="cmbStyle" id="cmbStyle" onChange="cmbStyle_change()" style="width:130px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblStyle")%>" p_required="true"><%if((widVo == null || widVo.getWidKpiType() == null) || (widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_GAUGE_ID)){%><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_NAME%></option><%}else if (widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_TRAFFIC_LIGHT_ID){%><option value="<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_NAME%></option><%}else if (widVo.getWidKpiType().intValue() == widVo.WIDGET_KPI_TYPE_COUNTER_ID){%><option value="<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_NAME%></option><option value="<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_ID%>" <%=(widVo != null && widVo.getWidKpiStyle() != null && widVo.getWidKpiStyle().intValue() == WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_ID)?"selected":""%>><%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_NAME%></option><%}%></select><input type=hidden name="kpiStyleIdHid" value="<%=(widVo!=null && widVo.getWidKpiStyle() != null)?widVo.getWidKpiStyle().intValue():0%>"></td></tr><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblMultiplier")%>"><%=LabelManager.getNameWAccess(labelSet,"lblMultiplier")%>:</td><td align="left"><select name="cmbMulti" id="cmbMulti" style="width:60px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblMultiplier")%>" p_required="true"><option value="<%=widVo.WIDGET_MULTIPLIER_0_001%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_0_001))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_0_001%></option><option value="<%=widVo.WIDGET_MULTIPLIER_0_01%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_0_01))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_0_01%></option><option value="<%=widVo.WIDGET_MULTIPLIER_0_1%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_0_1))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_0_1%></option><option value="<%=widVo.WIDGET_MULTIPLIER_1%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_1))?"selected":""%><%=(widVo == null || widVo.getWidValMultiplier() == null)?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_1%></option><option value="<%=widVo.WIDGET_MULTIPLIER_10%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_10))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_10%></option><option value="<%=widVo.WIDGET_MULTIPLIER_100%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_100))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_100%></option><option value="<%=widVo.WIDGET_MULTIPLIER_1K%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_1K))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_1K%></option><option value="<%=widVo.WIDGET_MULTIPLIER_10K%>" <%=(widVo != null && widVo.getWidValMultiplier() != null && widVo.getWidValMultiplier().equals(widVo.WIDGET_MULTIPLIER_10K))?"selected":""%>><%=widVo.WIDGET_MULTIPLIER_10K%></option></select></td></tr><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblKpiMin")%>"><%=LabelManager.getNameWAccess(labelSet,"lblKpiMin")%>:</td><td align="left"><input p_numeric="true" name="txtKpiMin" id="txtKpiMin" maxlength="10" style="width:40px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblKpiMin")%>" value="<%=(widVo!=null && widVo.getWidKpiMin()!=null)?widVo.getWidKpiMin().intValue():"0"%>" p_required="true"></td></tr><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblKpiMax")%>"><%=LabelManager.getNameWAccess(labelSet,"lblKpiMax")%>:</td><td align="left"><input p_numeric="true" name="txtKpiMax" id="txtKpiMax" maxlength="10" style="width:40px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblKpiMax")%>" value="<%=(widVo!=null && widVo.getWidKpiMax()!=null)?widVo.getWidKpiMax().intValue():"100"%>" p_required="true"></td></tr><tr><input type="hidden" name="hidUsrCanWrite" value="<%=saveChanges%>"></tr></table></td><td width="50%" align="center"><%if(widVo!=null && widVo.getWidKpiType() != null){%><img src="<%=widVo.getWidKpiTypeImage()%>" id="indSample"><%}else{//por defecto%><img src="<%=widVo.WIDGET_KPI_GAUGE_STYLE_MODERN_SRC%>" id="indSample"><%}%></td></tr></table><br><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtZones")%></DIV><div type="grid" id="gridZones" height="125px"><table width="500px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="100px" style="width:100px" title="<%=LabelManager.getToolTip(labelSet,"lblNom")%>"><%=LabelManager.getName(labelSet,"lblNom")%></th><th min_width="150px" style="width:150px" title="<%=LabelManager.getToolTip(labelSet,"lblDes")%>"><%=LabelManager.getName(labelSet,"lblDes")%></th><th min_width="30px" style="width:30px" title="<%=LabelManager.getToolTip(labelSet,"lblMin")%>"><%=LabelManager.getName(labelSet,"lblMin")%></th><th min_width="30px" style="width:30px" title="<%=LabelManager.getToolTip(labelSet,"lblMax")%>"><%=LabelManager.getName(labelSet,"lblMax")%></th><th min_width="155px" style="width:155px" title="<%=LabelManager.getToolTip(labelSet,"lblColor")%>"><%=LabelManager.getName(labelSet,"lblColor")%></th></tr></thead><tbody><%  Collection zonesCol = widVo.getZones();
							if (zonesCol != null && zonesCol.size()>0){
							Iterator itZones = zonesCol.iterator();
							Collection zonesAdded = new ArrayList();
							while (itZones.hasNext()) {
								WidKpiZoneVo widKpiZoneVo = (WidKpiZoneVo) itZones.next();
								if (zonesAdded.contains(widKpiZoneVo.getWidZneName())) continue;
								zonesAdded.add(widKpiZoneVo.getWidZneName());
								%><tr><td style="width:0px;display:none;"><input type="hidden" name="chkZneSel"></td><td><input type="text" name="zneName" maxlength="50" style="width:100px" onchange="chkZneName(this);fncZoneChanged()" value="<%=widKpiZoneVo.getWidZneName()%>"></input><input type="hidden" name="hidZneName" value="<%=widKpiZoneVo.getWidZneName()%>"></input></td><td><input type="text" name="zneDesc" maxlength="255" style="width:150px" value="<%=(widKpiZoneVo.getWidZneDesc()!=null)?widKpiZoneVo.getWidZneDesc():""%>"></input></td><td><input type="text" p_numeric="true" style="width:30px" name="zneMin" value="<%=widKpiZoneVo.getWidZneMin().intValue()%>" onKeyPress='zneMinBeenChange(this)' onkeyup='zneMinBeenChange2(this)'></input><input type="hidden" name="zneHiddenMin" value="<%=widKpiZoneVo.getWidZneMin().intValue()%>"></input></td><td><input type="text" p_numeric="true" style="width:30px" name="zneMax" value="<%=widKpiZoneVo.getWidZneMax().intValue()%>" onKeyPress='zneMaxBeenChange(this)' onkeyup='zneMaxBeenChange2(this)'></input></td><td><input type="input" name="txtColor" id="txtColor" style="width:60px" class="txtReadonly" readonly value="<%=(widKpiZoneVo.getWidZneColor()!=null && !"null".equals(widKpiZoneVo.getWidZneColor()))?widKpiZoneVo.getWidZneColor():""%>" /><a href="#" onclick="colorPicker(this)"><img width="15" height="13" border="0" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/palette.gif"></a><input maxlength="0" type="text" size="2" style="width:60px;background-color:<%=widKpiZoneVo.getWidZneColor()%>;"></input></td></tr><%
							} 
						}%></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><TD><button type="button" id="btnUp" onclick="up_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnUp")%>" title="<%=LabelManager.getToolTip(labelSet,"btnUp")%>"><%=LabelManager.getNameWAccess(labelSet,"btnUp")%></button><button type="button" id="btnDown" onclick="down_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDown")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDown")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDown")%></button></TD><td><button type="button" id="btnAddZone" onclick="btnAddZone_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgr")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgr")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgr")%></button><button type="button" id="btnDelZone" onclick="btnDelZone_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><br><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtWidActions")%></DIV><div type="grid" id="gridZonesActions" height="125px"><table width="500px" cellpadding="0" cellspacing="0"><thead><tr><th style="width:0px;display:none;" title="<%=LabelManager.getToolTip(labelSet,"lblSel")%>"></th><th min_width="100px" style="width:100px" title="<%=LabelManager.getToolTip(labelSet,"titZone")%>"><%=LabelManager.getName(labelSet,"titZone")%></th><th min_width="100px" style="width:100px;" title="<%=LabelManager.getToolTip(labelSet,"lblWidAction")%>"><%=LabelManager.getName(labelSet,"lblWidAction")%></th><th min_width="310px" style="width:310px;" title="<%=LabelManager.getToolTip(labelSet,"titExecute")%>"><%=LabelManager.getName(labelSet,"titExecute")%></th><th min_width="100%" style="width:100%;" title="<%=LabelManager.getToolTip(labelSet,"titExecFirstTime")%>"><%=LabelManager.getName(labelSet,"titExecFirstTime")%></th></tr></thead><tbody><%  Collection zonesActCol = widVo.getZones();
							if (zonesActCol != null && zonesActCol.size()>0){
							Iterator itZones = zonesActCol.iterator();
							while (itZones.hasNext()) {
								WidKpiZoneVo widKpiZoneVo = (WidKpiZoneVo) itZones.next();
								if (widKpiZoneVo.getWidZneBusClaId()!=null && widKpiZoneVo.getWidZneBusClaId().intValue()!=0){
									int action = 1; //Recuperar la accion del widKpiZoneVo
									%><tr><td style="width:0px;display:none;"><input type="hidden" name="chkIndZoneActSel"></td><td><select name="selZone" onChange="cmbZneAct_change(this); fncZoneChanged();"><%	zonesCol = widVo.getZones();
													String zneSel = "";
													if (zonesCol != null && zonesCol.size()>0){
														Iterator itZones2 = zonesCol.iterator();
														int i=0;
														while (itZones2.hasNext()) {
															WidKpiZoneVo widKpiZoneVo2 = (WidKpiZoneVo) itZones2.next();
															%><option value='<%=i%>' <% if (widKpiZoneVo.getWidZneName().equals(widKpiZoneVo2.getWidZneName())){
																zneSel = widKpiZoneVo.getWidZneName();
																%> selected 
																<%} %>><%=widKpiZoneVo2.getWidZneName()%></option><%
														}
													}
												%></select><input name="hidZne" type="hidden" size="40" value="<%=zneSel%>"/></td><td><select name="selAction" onChange="cmbActZne_change(this); fncZoneChanged()"><option value="<%=WidKpiZoneVo.WID_KPI_ACTION_BUS_CLASS_EXECUTION%>" <% if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_BUS_CLASS_EXECUTION){%> selected <%} %>><%=LabelManager.getName(labelSet, "lblExeBusClass")%></option><option value="<%=WidKpiZoneVo.WID_KPI_ACTION_START_PROCESS%>" <% if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_START_PROCESS){%> selected <%} %>><%=LabelManager.getName(labelSet, "lblStartProcess")%></option><option value="<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL%>" <% if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL){%> selected <%} %>><%=LabelManager.getName(labelSet, "lblSendEmail")%></option><option value="<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION%>" <% if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION){%> selected <%} %>><%=LabelManager.getName(labelSet, "lblSendNotification")%></option></select></td><td><% if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_BUS_CLASS_EXECUTION){%><input name="busClaName" disabled id="busClaName" style="width:180px;" value="<%=(widKpiZoneVo.getWidZneBusClaId()!=null && widKpiZoneVo.getWidZneBusClaId()!=0)?dBean.getBusClaName(request, widKpiZoneVo.getWidZneBusClaId()):""%>" ></input><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSelBusClass")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openBusClaModal(this);fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelBusClaParameters")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openZneBusClaParModal(this);fncZoneChanged()" style="cursor:pointer;cursor:hand"></span><input type="hidden" name="hidZneBusClaId" value="<%=(widKpiZoneVo.getWidZneBusClaId()!=null && widKpiZoneVo.getWidZneBusClaId()!=0)?widKpiZoneVo.getWidZneBusClaId().intValue():""%>"></input><input type="hidden" name="hidZneBusClaParams" value="<%=widKpiZoneVo.getZneBusClaParams()%>"></input><input type="hidden" name="hidZneBusClaParBndId" value="<%=widKpiZoneVo.getWidZneParBndId()%>"></input><%}else if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_START_PROCESS){ %><input name="proName" disabled id="proName" style="width:180px;" value="<%=widKpiZoneVo.getProcessStartParams(0)%>"></input><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSelProcess")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openProcessModal(this);fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelAttWidValue")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openAttModal(this,'value');fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelAttWidName")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openAttModal(this,'widName');fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelAttWidZneName")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openAttModal(this,'widZneName');fncZoneChanged()" style="cursor:pointer;cursor:hand"></span><input type="hidden" name="hidZneBusClaId" value="<%=(widKpiZoneVo.getWidZneBusClaId()!=null && widKpiZoneVo.getWidZneBusClaId()!=0)?widKpiZoneVo.getWidZneBusClaId().intValue():""%>"></input><input type="hidden" name="hidZneBusClaParams" value="<%=widKpiZoneVo.getZneBusClaParams()%>"></input><input type="hidden" name="hidZneBusClaParBndId" value="<%=widKpiZoneVo.getWidZneParBndId()%>"></input><%} else if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL){ %><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSelSubject")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openMessageModal(this,'SUBJECT');fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelMessage")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openMessageModal(this,'MESSAGE');fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelPoolNot")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openPoolsModal(this,'widName');fncZoneChanged()" style="cursor:pointer;cursor:hand"></span><input type="hidden" name="hidZneBusClaId" value="<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL_BUS_CLA_ID%>"></input><input type="hidden" name="hidZneBusClaParams" value="<%=widKpiZoneVo.getZneBusClaParams()%>"></input><input type="hidden" name="hidZneBusClaParBndId" value="<%=widKpiZoneVo.getWidZneParBndId()%>"></input><%} else if (widKpiZoneVo.getZneAction() != null && widKpiZoneVo.getZneAction().intValue() == WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION){ %><span style="vertical-align:bottom;"><img title="<%=LabelManager.getName(labelSet,"lblSelMessage")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod.gif" width="17" height="16" onclick="openNotMessageModal(this);fncZoneChanged()" style="cursor:pointer;cursor:hand"><img title="<%=LabelManager.getName(labelSet,"lblSelPoolNot")%>" src="<%=Parameters.ROOT_PATH%>/styles/<%= styleDirectory %>/images/btn_mod_red.gif" width="17" height="16" onclick="openNotPoolsModal(this,'widName');fncZoneChanged()" style="cursor:pointer;cursor:hand"></span><input type="hidden" name="hidZneBusClaId" value="<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION_BUS_CLA_ID%>"></input><input type="hidden" name="hidZneBusClaParams" value="<%=widKpiZoneVo.getZneBusClaParams()%>"></input><input type="hidden" name="hidZneBusClaParBndId" value="<%=widKpiZoneVo.getWidZneParBndId()%>"></input><%} %></td><td><input type="text" name="zneRepTimes" style="width:25px;" onChange="changRepTimes(this); fncZoneChanged()" value="<%=(widKpiZoneVo.getWidZneRepTimes()!=null)?widKpiZoneVo.getWidZneRepTimes().intValue():""%>"></input><%=LabelManager.getName(labelSet,"lblTimes")%></td></tr><%
								}
							} 
						}%></tbody></table></div><table class="navBar"><COL class="col1"><COL class="col2"><tr><TD><button type="button" id="btnUpAct" onclick="upAct_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnUp")%>" title="<%=LabelManager.getToolTip(labelSet,"btnUp")%>"><%=LabelManager.getNameWAccess(labelSet,"btnUp")%></button><button type="button" id="btnDownAct" onclick="downAct_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnDown")%>" title="<%=LabelManager.getToolTip(labelSet,"btnDown")%>"><%=LabelManager.getNameWAccess(labelSet,"btnDown")%></button></TD><td><button type="button" id="btnAddZone" onclick="btnAddActionZone_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAgr")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAgr")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAgr")%></button><button type="button" id="btnDelZone" onclick="btnDelActionZone_click();fncZoneChanged()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnEli")%>" title="<%=LabelManager.getToolTip(labelSet,"btnEli")%>"><%=LabelManager.getNameWAccess(labelSet,"btnEli")%></button></td></tr></table><input id="hidZoneChange" name="hidZoneChange"  type="hidden" value="0"></input><!-- Indica si se modificaron las zonas --><DIV class="subTit"><%=LabelManager.getName(labelSet,"sbtHistoric")%></DIV><br><table width="100%" class="tblFormLayout"><tr><td width="50%" align="left"><table><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblViewLast")%>"><%=LabelManager.getNameWAccess(labelSet,"lblViewLast")%>:</td><td align="left"><select name="cmbVwLast" id="cmbVwLast" style="width:50px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblViewLast")%>" p_required="true"><option value="10" <%=(widVo != null && widVo.getWidVwCant() != null && widVo.getWidVwCant().intValue() == 10)?"selected":""%>>10</option><option value="20" <%=(widVo != null && widVo.getWidVwCant() != null && widVo.getWidVwCant().intValue() == 20)?"selected":""%>>20</option><option value="50" <%=(widVo != null && widVo.getWidVwCant() != null && widVo.getWidVwCant().intValue() == 50)?"selected":""%>>50</option><option value="100" <%=(widVo != null && widVo.getWidVwCant() != null && widVo.getWidVwCant().intValue() == 100)?"selected":""%>>100</option></select></td><td></td><td></td><td></td><td></td></tr><tr><td align="right" title="<%=LabelManager.getToolTip(labelSet,"lblStoreLast")%>"><%=LabelManager.getNameWAccess(labelSet,"lblStoreLast")%>:</td><td align="left"><select name="cmbStoreLast" id="cmbStoreLast" style="width:50px" accesskey="<%=LabelManager.getAccessKey(labelSet,"lblStoreLast")%>" p_required="true" onchange="cmbStoLstChange()"><option value="10" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 10)?"selected":""%>>10</option><option value="20" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 20)?"selected":""%>>20</option><option value="50" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 50)?"selected":""%>>50</option><option value="100" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 100)?"selected":""%>>100</option><option value="500" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 500)?"selected":""%>>500</option><option value="1000" <%=(widVo != null && widVo.getWidStoCant() != null && widVo.getWidStoCant().intValue() == 1000)?"selected":""%>>1000</option></select></td><td></td><td></td><td></td><td></td></tr></table></td><td width="50%"></td></table></form></div><TABLE class="pageBottom"><COL class="col1"><COL class="col2"><COL class="col3"><TR><TD align="center" style="width:100%"><div id="moreData" style="display:none"><%=LabelManager.getName(labelSet,"lblMoreData")%></div><div id="noData" style="display:none"><%=LabelManager.getName(labelSet,"lblNoData")%></div></td><TD align="right"><button type="button" onclick="btnBackNext_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnAnt")%>" title="<%=LabelManager.getToolTip(labelSet,"btnAnt")%>"><%=LabelManager.getNameWAccess(labelSet,"btnAnt")%></button><button type="button" id="btnConf" onclick="btnKPIConf_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnCon")%>" title="<%=LabelManager.getToolTip(labelSet,"btnCon")%>"><%=LabelManager.getNameWAccess(labelSet,"btnCon")%></button><button type="button" onclick="btnBack_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnVol")%>" title="<%=LabelManager.getToolTip(labelSet,"btnVol")%>"><%=LabelManager.getNameWAccess(labelSet,"btnVol")%></button><button type="button" onclick="btnExit_click()" accesskey="<%=LabelManager.getAccessKey(labelSet,"btnSal")%>" title="<%=LabelManager.getToolTip(labelSet,"btnSal")%>"><%=LabelManager.getNameWAccess(labelSet,"btnSal")%></button></TD></TR></TABLE></body></html><%@include file="../../../components/scripts/server/endInc.jsp"%><script language="javascript" defer="true" src='<%=Parameters.ROOT_PATH%>/programs/biDesigner/widgets/update.js'></script><script type="text/javascript">
var WIDGET_KPI_TYPE_GAUGE_ID = "<%=WidgetVo.WIDGET_KPI_TYPE_GAUGE_ID%>";
var WIDGET_KPI_GAUGE_STYLE_MODERN_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_ID%>";
var WIDGET_KPI_GAUGE_STYLE_MODERN_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_NAME%>";
var GAUGE_IMAGE_MODERN_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_MODERN_SRC%>"; 
var WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_ID%>";
var WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_NAME%>";
var GAUGE_IMAGE_SEMICIRCLE_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_SEMICIRCLE_SRC%>"; 
var WIDGET_KPI_GAUGE_STYLE_OXFORD_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_ID%>";
var WIDGET_KPI_GAUGE_STYLE_OXFORD_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_NAME%>";
var GAUGE_IMAGE_OXFORD_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_OXFORD_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_ID%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_NAME%>";
var GAUGE_IMAGE_VELOCIMETER_BLUE_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_BLUE_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_ID%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_NAME%>";
var GAUGE_IMAGE_VELOCIMETER_RED_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_RED_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_ID%>";
var WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_NAME%>";
var GAUGE_IMAGE_VELOCIMETER_GRAY_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_VELOCIMETER_GRAY_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_NAME%>";
var GAUGE_IMAGE_METER_RIGHT_BLUE_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_BLUE_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_NAME%>";
var GAUGE_IMAGE_METER_RIGHT_RED_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_RED_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_NAME%>";
var GAUGE_IMAGE_METER_RIGHT_GRAY_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_RIGHT_GRAY_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_NAME%>";
var GAUGE_IMAGE_METER_LEFT_BLUE_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_BLUE_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_NAME%>";
var GAUGE_IMAGE_METER_LEFT_RED_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_RED_SRC%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_ID = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_ID%>";
var WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_NAME = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_NAME%>";
var GAUGE_IMAGE_METER_LEFT_GRAY_SRC = "<%=WidgetVo.WIDGET_KPI_GAUGE_STYLE_METER_LEFT_GRAY_SRC%>";

var WIDGET_KPI_TYPE_TRAFFIC_LIGHT_ID = "<%=WidgetVo.WIDGET_KPI_TYPE_TRAFFIC_LIGHT_ID%>";
var WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_ID = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_ID%>";
var WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_NAME = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_NAME%>";
var TRAFFIC_LIGHT_IMAGE_CLASSIC_SRC = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_SRC%>";
var WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_ID = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_ID%>";
var WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_NAME = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_NAME%>";
var TRAFFIC_LIGHT_IMAGE_CLASSIC_GRAY_SRC = "<%=WidgetVo.WIDGET_KPI_TRAFFIC_LIGHT_STYLE_CLASSIC_GRAY_SRC%>";

var WIDGET_KPI_TYPE_COUNTER_ID = "<%=WidgetVo.WIDGET_KPI_TYPE_COUNTER_ID%>";
var WIDGET_KPI_COUNTER_STYLE_1_ID = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_ID%>";
var WIDGET_KPI_COUNTER_STYLE_1_NAME = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_NAME%>";
var COUNTER_IMAGE_1_SRC = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_1_SRC%>";
var WIDGET_KPI_COUNTER_STYLE_2_ID = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_ID%>";
var WIDGET_KPI_COUNTER_STYLE_2_NAME = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_NAME%>";
var COUNTER_IMAGE_2_SRC = "<%=WidgetVo.WIDGET_KPI_COUNTER_STYLE_2_SRC%>";

var LBL_ON_REPEATE = "<%=LabelManager.getName(labelSet,"lblOnRepeat")%>" + " ";
var LBL_TIMES = " " + "<%=LabelManager.getName(labelSet,"lblTimes")%>" + " ";
var LBL_BUS_CLASS = "<%=LabelManager.getName(labelSet,"lblBusClass")%>";
var LBL_SEL_BUS_CLASS_PARAMS = "<%=LabelManager.getName(labelSet,"lblSelBusClaParameters")%>";
var LBL_QUERY = "<%=LabelManager.getName(labelSet,"lblUsrQuerys")%>";
var LBL_SEL_BUS_CLASS = "<%=LabelManager.getName(labelSet,"lblSelBusClass")%>";
var LBL_DEL_BUS_CLASS = "<%=LabelManager.getName(labelSet,"lblDelBusClass")%>";
<% if (widVo!=null && widVo.getWidId()!=null){%>
var WID_ID = "<%=widVo.getWidId().intValue()%>";
<%}else{%>
var WID_ID = "0";
<%}%>
var MSG_MUST_COMP_MAX_ZNES = "<%=LabelManager.getName(labelSet,"msgWidMustCompMaxZones")%>";
var MSG_CANT_ADD_NEW_ZNE = "<%=LabelManager.getName(labelSet,"msgWidCantAddNewZone") %>";
var MSG_ALR_EXI_ZNE = "<%=LabelManager.getName(labelSet,"msgAlrExiZne") %>";
var MSG_WRN_ZNE_SECUENCE = "<%=LabelManager.getName(labelSet,"msgWrnZneSecuence") %>";
var MSG_MIS_KPI_MIN_VAL = "<%=LabelManager.getName(labelSet,"msgMisKpiMinValue") %>";
var MSG_MIS_KPI_MAX_VAL = "<%=LabelManager.getName(labelSet,"msgMisKpiMaxValue") %>";
var MSG_ALL_ZNE_MUS_HAV_MAX_VAL = "<%=LabelManager.getName(labelSet,"msgAllZneMusHavMaxValue") %>";
var MSG_ONE_ZNE_MUS_STA_MIN_VAL = "<%=LabelManager.getName(labelSet,"msgOneZneMusStaMinKpi") %>";
var MSG_ONE_ZNE_MUS_STA_MAX_VAL = "<%=LabelManager.getName(labelSet,"msgOneZneMusStaMaxKpi") %>";
var MSG_MUS_SEL_ONE_CBE = "<%=LabelManager.getName(labelSet,"msgMusSelOneCube") %>";
var MSG_MUS_SEL_ONE_BUS_CLA = "<%=LabelManager.getName(labelSet,"msgMusSelOneBusClass") %>";
var MSG_MUS_SEL_ONE_QRY = "<%=LabelManager.getName(labelSet,"msgMusSelOneQuery") %>";
var MSG_MUS_SEL_ONE_VW = "<%=LabelManager.getName(labelSet,"msgMusSelOneVw") %>";
var MSG_WID_BUS_CLA_ERR = "<%=LabelManager.getName(labelSet,"msgWidBusClaErr").replace("\"","\\\"")%>";
var MSG_MUST_SEL_BUS_CLA_FIRST = "<%=LabelManager.getName(labelSet,"msgMustSelBusClaFirst") %>";
var MSG_MUST_SEL_BUS_CLA_WIDGET = "<%=LabelManager.getName(labelSet,"msgMusSelBusClaWidget") %>";
var MSG_MUST_SEL_QUERY_FIRST = "<%=LabelManager.getName(labelSet,"msgMustSelQueryFirst") %>";
var MSG_BUS_CLA_NOT_EXIST = "<%=LabelManager.getName(labelSet,"msgBusClaNotExist") %>";
var MSG_BUS_CLA_NOT_EXIST = "<%=LabelManager.getName(labelSet,"msgBusClaNotExist") %>";
var MSG_QUERY_NOT_EXIST = "<%=LabelManager.getName(labelSet,"msgQryNotExist") %>";
var MSG_PAR_BUS_CLA_NOT_VAL = "<%=LabelManager.getName(labelSet,"msgParBusClaNotVal") %>";
var MSG_FIL_QRY_NOT_VAL = "<%=LabelManager.getName(labelSet,"msgFilQryNotVal") %>";
var MSG_NOT_PAR_VALUE_FOUND = "<%=LabelManager.getName(labelSet,"msgNotParValue") %>";
var MSG_CHI_WID_MUS_STO_VALUES = "<%=LabelManager.getName(labelSet,"msgChiWidMusStoValues") %>";
var MSG_LST_ZNE_MAX_VAL_ERROR = "<%=LabelManager.getName(labelSet,"msgLstZneMaxValError") %>";
var MSG_LST_ZNE_MIN_VAL_ERROR = "<%=LabelManager.getName(labelSet,"msgLstZneMinValError") %>";
var MSG_ZNE_MIN_MAX_VAL_ERROR = "<%=LabelManager.getName(labelSet,"msgZneMinMaxValError") %>";
var MSG_MST_STO_LST_IF_CTR_REP = "<%=LabelManager.getName(labelSet,"msgMusStoLstIfCtrlRep") %>";
var MSG_MST_DEF_THREE_ZONES = "<%=LabelManager.getName(labelSet,"msgMstDefThreeZones")%>";
var PARAM_IO_IN 	= "<%=BusClaParameterVo.PARAM_IO_IN%>";
var PARAM_IO_OUT 	= "<%=BusClaParameterVo.PARAM_IO_OUT%>";
var PARAM_IO_IN_OUT = "<%=BusClaParameterVo.PARAM_IO_IN_OUT%>";
var LBL_NUMBER = "<%=LabelManager.getName(labelSet,"lblNum")%>";
var LBL_NUMBER_ID = "<%=AttributeVo.TYPE_NUMERIC%>";
var LBL_STRING = "<%=LabelManager.getName(labelSet,"lblStr")%>";
var LBL_STRING_ID = "<%=AttributeVo.TYPE_STRING%>";
var LBL_DATE = "<%=LabelManager.getName(labelSet,"lblFec")%>";
var LBL_DATE_ID = "<%=AttributeVo.TYPE_DATE%>";

var LBL_EXE_BUS_CLASS = "<%=LabelManager.getName(labelSet, "lblExeBusClass")%>";
var LBL_START_PROCESS = "<%=LabelManager.getName(labelSet, "lblStartProcess")%>";
var LBL_SEND_EMAIL = "<%=LabelManager.getName(labelSet, "lblSendEmail")%>";
var LBL_SEND_NOTIFICATION = "<%=LabelManager.getName(labelSet, "lblSendNotification")%>";
var MSG_CANT_DEL_ZONE = "<%=LabelManager.getName(labelSet, "msgCantDelZone")%>";
var MSG_CANT_CHG_ZONE_NAME = "<%=LabelManager.getName(labelSet, "msgCantChgZoneName")%>";
var WID_KPI_ACTION_BUS_CLASS_EXECUTION = "<%=WidKpiZoneVo.WID_KPI_ACTION_BUS_CLASS_EXECUTION%>";
var WID_KPI_ACTION_START_PROCESS = "<%=WidKpiZoneVo.WID_KPI_ACTION_START_PROCESS%>";
var WID_KPI_ACTION_SEND_EMAIL = "<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL%>";
var WID_KPI_ACTION_SEND_NOTIFICATION = "<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION%>";
var WID_KPI_ACTION_SEND_CHAT_MSG = "<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_CHAT_MSG%>";
var LBL_SEL_PROCESS = "<%=LabelManager.getName(labelSet,"lblSelProcess")%>";
var LBL_SEL_ATT_WID_VALUE = "<%=LabelManager.getName(labelSet,"lblSelAttWidValue")%>";
var LBL_SEL_ATT_WID_NAME = "<%=LabelManager.getName(labelSet,"lblSelAttWidName")%>";
var LBL_SEL_ATT_WID_ZNE_NAME = "<%=LabelManager.getName(labelSet,"lblSelAttWidZneName")%>";
var LBL_SUBJECT = "<%=LabelManager.getName(labelSet,"lblSelSubject")%>";
var LBL_MESSAGE = "<%=LabelManager.getName(labelSet,"lblSelMessage")%>";
var LBL_MESSAGE_NOT = "<%=LabelManager.getName(labelSet,"lblSelNotMessage")%>";
var LBL_POOLS = "<%=LabelManager.getName(labelSet,"lblSelPoolNot")%>";
var MSG_INS_VAL_POSITIVE = "<%=LabelManager.getName(labelSet,"msgInsValPositive")%>";
var MSG_WID_SEL_BUS_CLA = "<%=LabelManager.getName(labelSet,"msgWidSelBuscla")%>";
var MSG_WID_SEL_PROCESS = "<%=LabelManager.getName(labelSet,"msgWidSelProcess")%>";
var WID_KPI_ZNE_ACT_PROCESS = "<%=WidKpiZoneVo.WID_KPI_ACTION_PROCESS_BUS_CLA_ID%>";
var LBL_WID_NOT_SUBJECT = "<%=LabelManager.getName(labelSet, "msgWidNotSubject")%>";
var LBL_WID_NOT_MESSAGE = "<%=LabelManager.getName(labelSet, "msgWidNotMessage")%>";
var TIT_WID_SUBJECT = "<%=LabelManager.getName(labelSet, "titMsgSubject")%>";
var TIT_WID_MESSAGE = "<%=LabelManager.getName(labelSet, "titMsgMessage")%>";
var LBL_MESSAGE_TEXT = "<%=LabelManager.getName(labelSet, "lblTexMen")%>";
var WID_KPI_BUS_CLA_SEND_EMAIL_ID = "<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_EMAIL_BUS_CLA_ID%>";
var WID_KPI_BUS_CLA_SEND_NOT_ID = "<%=WidKpiZoneVo.WID_KPI_ACTION_SEND_NOTIFICATION_BUS_CLA_ID%>";
var MSG_WID_SEL_DESTINATARIOS = "<%=LabelManager.getName(labelSet, "msgWidSelDest")%>";
</script>