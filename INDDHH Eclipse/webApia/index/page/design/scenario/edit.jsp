<%@page import="com.dogma.util.DogmaUtil"%><%@include file="../../includes/startInc.jsp" %><html><head><%@include file="../../includes/headInclude.jsp" %><link href="<system:util show="context" />/css/<system:util show="currentStyle" />/generalAdm.css" rel="stylesheet" type="text/css" /><script type="text/javascript" src="<system:util show="context" />/page/design/scenario/edit.js"></script><script type="text/javascript" src="<system:util show="context" />/page/includes/adminActionsEdition.js"></script><script type="text/javascript" src="<system:util show="context" />/page/includes/adminFav.js"></script><script type="text/javascript" src="<system:util show="context" />/page/includes/navButtons.js"></script><script type="text/javascript" src="<system:util show="context" />/page/generic/permissions.js"></script><script type="text/javascript" src="<system:util show="context" />/page/includes/campaigns.js"></script><script type="text/javascript" src="<system:util show="context" />/page/modals/pools.js"></script><script type="text/javascript" src="<system:util show="context" />/page/modals/processes.js"></script><script type="text/javascript" src="<system:util show="context" />/page/modals/calendarsView.js"></script><script type="text/javascript">
		var URL_REQUEST_AJAX = '/apia.design.ScenarioAction.run';
		var ADDITIONAL_INFO_IN_TABLE_DATA = false;		
		var MSG_USE_PROY_PERMS = '<system:label show="text" label="msgUseProyPerms" forScript="true" />';
		var MSG_PERM_WILL_BE_LOST = '<system:label show="text" label="msgPermDefWillBeLost" forScript="true" />';
		var SIMULATION_END_BY_TIME = '<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_TIME" />';
		var SIMULATION_END_BY_DATE = '<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_DATE" />';
		var SIMULATION_END_BY_AMOUNT_GLOBAL  = '<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_AMOUNT_GLOBAL" />';
		var SIMULATION_END_BY_AMOUNT_PROCESS  = '<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_AMOUNT_PROCESS" />';
		var LBL_DEF_GEN = '<system:label show="text" label="lblSceCliDefGen" forScript="true" />';
		var LBL_PRO_MAP = '<system:label show="text" label="lblSceCliProMap" forScript="true" />';
		var MSG_DEL_ALL_SEL = '<system:label show="text" label="msgDeleteAllSel" forScript="true" />';
		var MSG_CANT_DEL_SUBPROC = '<system:label show="text" label="msgCantDelSceSubProc" forScript="true" />';
		var LBL_CONFIRM = '<system:label show="text" label="btnCon" forScript="true" />';
		
		var GEN_DISABLED = '<system:edit show="constant" from="com.dogma.vo.SimSceProcessVo" field="GEN_DISABLED" />';
		var GEN_ON_DEMAND = '<system:edit show="constant" from="com.dogma.vo.SimSceProcessVo" field="GEN_ON_DEMAND" />';
		var GEN_CANT_TRANS = '<system:edit show="constant" from="com.dogma.vo.SimSceProcessVo" field="GEN_CANT_TRANS" />';
		var GEN_FRECUENCY = '<system:edit show="constant" from="com.dogma.vo.SimSceProcessVo" field="GEN_FRECUENCY" />';
		var GEN_HISTORY = '<system:edit show="constant" from="com.dogma.vo.SimSceProcessVo" field="GEN_HISTORY" />';
		
		var DIST_CTE_ENT = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_CTE_ENT" />';
		var DIST_EMP_ENT = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_EMP_ENT" />';
		var DIST_POISSON = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_POISSON" />';
		var DIST_UNIF_ENT = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_UNIF_ENT" />';
		var DIST_CTE_REAL = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_CTE_REAL" />';
		var DIST_EMP_REAL = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_EMP_REAL" />';
		var DIST_EARLANG = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_EARLANG" />';
		var DIST_EXP = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_EXP" />';
		var DIST_NORMAL = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_NORMAL" />';
		var DIST_UNIF_REAL = '<system:edit show="constant" from="com.dogma.simulation.simulator.Distribution" field="DIST_UNIF_REAL" />';
		var TIME_FORMAT	= "<%=DogmaUtil.getHTMLTimeMask()%>";
		
		var MSG_HIST_WRNG_DATES = '<system:label show="text" label="msgSceHistWrngDates" forScript="true" />';
		var MSG_WRNG_DATES = '<system:label show="text" label="msgSceWrngDates" forScript="true" />';
		var MSG_SCE_MUS_HAV_ONE_PRO = '<system:label show="text" label="msgSceMusHavOnePro" forScript="true" />';
		var MSG_CANT_RES_NEED = '<system:label show="text" label="msgCantResNeed" forScript="true" />';
		var CANT_RES_FIXED = '<system:edit show="constant" from="com.dogma.vo.SimScePoolVo" field="CANT_RES_FIXED" />';
		var CANT_RES_UNLIM = '<system:edit show="constant" from="com.dogma.vo.SimScePoolVo" field="CANT_RES_UNLIMITED" />';
		var MSG_MUST_SEL_CANT_RES_FIXED = '<system:label show="text" label="msgMustSelCantResFixed" forScript="true" />';
		
		var NO_SEL_CAL				= '<system:label show="text" label="msgSelCal" forScript="true" />';
		var LBL_GENERIC_ERROR		= '<system:label show="text" label="lblError" forScript="true" />';
		var LBL_CANT_REACH_SERVER	= '<system:label show="text" label="errCantReachSrvr" forScript="true" />';
		var LBL_CANT_ASSIGN_PROB	= '<system:label show="text" label="errCantAssignProb" forScript="true" />';
		
	</script></head><body><div id="exec-blocker"></div><div class="header"></div><div class="body" id="bodyDiv"><form id="frmData"><div class="optionsContainer"><system:campaign inLogin="false" inSplash="false" location="verticalUp" /><div class="fncPanel info"><div class="title"><system:label show="tooltip" label="titScenarios" /><%@include file="../../includes/adminFav.jsp" %></div><div class="content divFncDescription"><div class="fncDescriptionImage" src="<system:edit show="value" from="theBean" field="fncImage"/>"></div><div id="fncDescriptionText"><system:label show="text" label="dscFncAdmSimScenario"/></div><div class="clear"></div></div></div><%@include file="../../includes/adminActionsEdition.jsp" %><div id="divAdminActEdit" class="fncPanel buttons"><div class="title"><system:label show="tooltip" label="mnuOpc" /></div><div class="content"><div id="btnViewCal" class="button extendedSize" title="<system:label show="tooltip" label="btnViewCal" />"><system:label show="text" label="btnViewCal" /></div></div></div><system:campaign inLogin="false" inSplash="false" location="verticalDown" /></div><div class="dataContainer"><div class='tabComponent' id="tabComponent"><div class="aTabHeader"><system:campaign inLogin="false" inSplash="false" location="horizontalUp" /></div><div class="aTab"><div class="tab"><system:label show="text" label="tabDatGen" /></div><div class="contentTab"><div class="fieldGroup"><div class="title"><system:label show="text" label="sbtDatScenario" /></div><div class="field fieldTwoFifths required"><label title="<system:label show="tooltip" label="lblName" />"><system:label show="text" label="lblName" />:</label><input type="text" name="sceName" id="sceName" class="validate['required','~validName']" value="<system:edit show="value" from="theEdition" field="simSceName"/>"></div><div class="field fieldFull"><label title="<system:label show="tooltip" label="lblDes" />"><system:label show="text" label="lblDes" />:</label><textarea name="sceDesc" id="sceDesc" maxlength="255" cols=80 rows=3><system:edit show="value" from="theEdition" field="simSceDesc"/></textarea></div><br/><br/><div class="field fieldTwoFifths required"><label title="<system:label show="tooltip" label="titCal" />"><system:label show="text" label="titCal" />:</label><select name="selCal" id="selCal"  class="validate['required']"><option value=""></option><system:util show="prepareCalendars" saveOn="calendars" /><system:edit show="iteration" from="calendars" saveOn="calendar"><system:edit show="saveValue" from="calendar" field="calendarId" saveOn="calId"/><option value="<system:edit show="value" from="calendar" field="calendarId"/>" <system:edit show="ifValue" from="theEdition" field="calId" value="with:calId">selected</system:edit> ><system:edit show="value" from="calendar" field="calendarName"/></option></system:edit></select></div><div class="field required no-margin-datepicker"><label title="<system:label show="tooltip" label="lblSceIni" />" for="txtSceFchIni" class="label"><system:label show="text" label="lblSceIni" />:&nbsp;</label><input id="txtSceFchIni" name="txtSceFchIni" type="text" class="datePicker filterInputDate validate['required']" style='width:80%' format="d/m/Y" value="<system:edit show="value" from="theEdition" field="simSceStartDate" />" ></div><div class="field required"><label title="<system:label show="tooltip" label="lblHorIni" />" for="txtSceHorIni" class="label"><system:label show="text" label="lblHorIni" />:&nbsp;</label><br><input type="text" name="txtSceHorIni" id="txtSceHorIni" maxlength="5" class="small10 validate['required','~validateHours']" value="<system:edit show="value" from="theBean" field="simSceStartDateTime" />" style="width: 25% !important;"/></div><div class="clearLeft sep"></div><div class="defBlock fieldTreeQuarter"><div class="defLbl"><label title="<system:label show="tooltip" label="lblSceEnd" />" class="label"><system:label show="text" label="lblSceEnd" />:&nbsp;</label></div><div class="oneLineRadio <system:edit show="ifValue" from="theBean" field="endByTime" value="true">required</system:edit>" id="divEndByTime" style='margin-left:100px'><input type="radio" id="endByTime" name="endType" onclick="changeEndType(<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_TIME" />);" <system:edit show="ifValue" from="theBean" field="endByTime" value="true">checked</system:edit>/><label style="width: 180px; display: inline-block" title="<system:label show="tooltip" label="lblSceDatHour" />" for="endByTime" class="label"><system:label show="text" label="lblSceDatHour" /></label><input id="txtSceDatEnd" name="txtSceDatEnd" type="text" class="datePicker filterInputDate small20" format="d/m/Y" value="<system:edit show="value" from="theEdition" field="simSceEndDate" />" <system:edit show="value" from="theBean" field="txtSceDatEndDis" />><input style="margin-left: 5px; width: 7% !important;" type="text" name="txtSceHorEnd" id="txtSceHorEnd" maxlength="5" value="<system:edit show="value" from="theBean" field="simSceEndDateTime" />" <system:edit show="value" from="theBean" field="simSceEndDaysDis" />/></div><div class="oneLineRadio <system:edit show="ifValue" from="theBean" field="endByDate" value="true">required</system:edit>" id="divEndByDate" style='margin-left:100px'><input type="radio" id="endByDate" name="endType" onclick="changeEndType(<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_DATE" />);" <system:edit show="ifValue" from="theBean" field="endByDate" value="true">checked</system:edit>/><label style="width: 180px; display: inline-block" title="<system:label show="tooltip" label="lblSceCantDays" />" for="endByDate" class="label"><system:label show="text" label="lblSceCantDays" /></label><input type="text" name="sceEndDays" id="sceEndDays" value="<system:edit show="value" from="theEdition" field="simSceEndDays" />"  class="small10"  <system:edit show="value" from="theBean" field="simSceEndDaysDis" />  /></div><div class="oneLineRadio <system:edit show="ifValue" from="theBean" field="endByAmountGlobal" value="true">required</system:edit>" id="divEndByAmountGlobal" style='margin-left:100px'><input type="radio" id="endByAmountGlobal" name="endType" onclick="changeEndType(<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_AMOUNT_GLOBAL" />);" <system:edit show="ifValue" from="theBean" field="endByAmountGlobal" value="true">checked</system:edit>/><label style="width: 180px; display: inline-block" title="<system:label show="tooltip" label="lblSceCantTrans" />" for="endByAmountGlobal" class="label"><system:label show="text" label="lblSceCantTrans" /></label><input type="text" name="sceEndTrans" id="sceEndTrans" value="<system:edit show="value" from="theEdition" field="simSceEndInsts" />"  class="small10"  <system:edit show="value" from="theBean" field="simSceEndInstsDis" />  /></div><div class="oneLineRadio <system:edit show="ifValue" from="theBean" field="endByAmountProcess" value="true">required</system:edit>" id="divEndByAmountProcess" style='margin-left:100px'><input type="radio" id="endByAmountProcess" name="endType" onclick="changeEndType(<system:edit show="constant" from="com.dogma.vo.SimScenarioVo" field="SIMULATION_END_BY_AMOUNT_PROCESS" />);" <system:edit show="ifValue" from="theBean" field="endByAmountProcess" value="true">checked</system:edit>/><label style="width: 180px; display: inline-block" title="<system:label show="tooltip" label="lblSceCantProTrans" />" for="endByAmountProcess" class="label"><system:label show="text" label="lblSceCantProTrans" />&nbsp;</label><input style="margin-right: 5px;" type="text" name="sceEndProTrans" id="sceEndProTrans" value="<system:edit show="value" from="theEdition" field="simSceEndProInsts" />"  class="small10"  <system:edit show="value" from="theBean" field="simSceEndProInstsDis" />  /><br/><label style="margin-left: 65px;" title="<system:label show="tooltip" label="lblPro" />"><system:label show="text" label="lblPro" />:</label><select id="selEndProcess" name="selEndProcess" <system:edit show="value" from="theBean" field="simSceEndProInstsDis" />></select></div></div><div class="clearLeft sep"></div><br/><div class="defBlock fieldTwoThird"><div class="defLbl"><label title="<system:label show="tooltip" label="lblUseHist" />" for="useHistChk" class="label"><system:label show="text" label="lblUseHist" />:&nbsp;</label><input name="endTypeSelected" id="endTypeSelected" type="hidden" value="<system:edit show="value" from="theBean" field="endTypeSelected" />" /></div><div class="oneLineRadio" style='margin-left:100px'><input type="checkbox" id="useHistChk" name="useHistChk" onClick="clickUseHist()" <system:edit show="ifValue" from="theBean" field="histFrec" value="true">checked</system:edit>/><label style="width: 140px; display: inline-block;" title="<system:label show="tooltip" label="lblSampFrecuency" />" for="lblSampFrecuency" class="label"><system:label show="text" label="lblSampFrecuency" />:&nbsp;</label><input type="text" name="lblSampFrecuency" id="lblSampFrecuency" value="<system:edit show="value" from="theEdition" field="simSceHistFrec" />"  class="small10"  <system:edit show="value" from="theBean" field="simSceHistFrecDis" />  /></div><div class="oneLineRadio" style='margin-left:155px'><label style="width: 140px; display: inline-block;" title="<system:label show="tooltip" label="lblFchIni" />" for="txtHistFrecDatIni" class="label"><system:label show="text" label="lblFchIni" />:&nbsp;</label><input id="txtHistFrecDatIni" name="txtHistFrecDatIni" type="text" class="datePicker filterInputDate small20" format="d/m/Y" value="<system:edit show="value" from="theEdition" field="simSceHistIni" />" <system:edit show="value" from="theBean" field="simSceHistIniDis" />><input style="margin-left: 5px;" type="text" name="txtHistFrecHorIni" id="txtHistFrecHorIni" class="small10 validate['~validateHours']" maxlength="5" value="<system:edit show="value" from="theBean" field="simSceHistIniTime" />" <system:edit show="value" from="theBean" field="simSceHistIniDis" /> /></div><div class="oneLineRadio" style='margin-left:155px'><label style="width: 140px; display: inline-block;" title="<system:label show="tooltip" label="lblFchFin" />" for="txtHistFrecDatEnd" class="label"><system:label show="text" label="lblFchFin" />:&nbsp;</label><input id="txtHistFrecDatEnd" name="txtHistFrecDatEnd" type="text" class="datePicker filterInputDate small20" format="d/m/Y" value="<system:edit show="value" from="theEdition" field="simSceHistEnd" />" <system:edit show="value" from="theBean" field="simSceHistEndDis" />><input style="margin-left: 5px;" type="text" name="txtHistFrecHorEnd" id="txtHistFrecHorEnd" class="small10 validate['~validateHours']" maxlength="5" value="<system:edit show="value" from="theBean" field="simSceHistEndTime" />" <system:edit show="value" from="theBean" field="simSceHistEndDis" /> /></div></div><div class="clearLeft sep"></div><div class="title">*<system:label show="text" label="sbtProcess" /></div><div class="modalOptionsContainer" id="processContainer"><div class="element" id="addProcess" helper="true"><div class="option optionAdd" style='height:20px'><system:label show="text" label="btnAgr" /></div></div></div><div class="clearLeft sep"></div><div class="title"><system:label show="text" label="titGru" /></div><%@include file="scenarioPool.jsp" %></div></div></div><div class="aTab"><div class="tab"><system:label show="text" label="tabPer" /></div><div class="contentTab"><%@include file="../../generic/permissions.jsp" %></div></div></div><system:campaign inLogin="false" inSplash="false" location="horizontalDown" /></div></form></div><%@include file="../../modals/permissions.jsp" %><%@include file="../../modals/processes.jsp" %><%@include file="../../modals/calendarsView.jsp" %><%@include file="../../includes/footer.jsp" %></body></html>

